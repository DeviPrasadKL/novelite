import{Z as V,j as o,r as c,c as x,u as v,y as f,_ as p,a3 as k,I as B,R as W,V as G}from"./index-8b3b8eba.js";import{P as H}from"./PageContainer-d98636eb.js";import"./AppCard-296d0427.js";import{r as q}from"./createSvgIcon-49cf013b.js";import{C as N}from"./ChildCard-dd994321.js";import{S as F}from"./Scrollbar-dbd8a6bc.js";import Z from"./NovelTicketChat-11ca1adb.js";import{B as h}from"./Box-7c985c27.js";import{T as J,a as P}from"./Tabs-ff6c9e23.js";import{c as C}from"./ReactToastify-98a908de.js";import{g as T,d as g,s as b,a as j,T as m}from"./Typography-1427830e.js";import{G as R}from"./Grid-f4d7d3ed.js";import{R as K}from"./Rating-536ea44c.js";import{i as Q}from"./isMuiElement-107d3612.js";import{S as X}from"./Stack-6654f631.js";import{B as Y}from"./Breadcrumb-180b5288.js";import"./Card-db1260bf.js";import"./Paper-0f05f7b2.js";import"./useControlled-a5c8634c.js";import"./ownerWindow-fbe9f185.js";import"./CardHeader-43943928.js";import"./Divider-15ff209d.js";import"./dividerClasses-27c89fbf.js";import"./CardContent-8f57d85d.js";import"./ListContext-b8157264.js";import"./useFormControl-b611f770.js";import"./listItemTextClasses-4c972a14.js";import"./Box-399c9622.js";import"./Avatar-32c1e00b.js";import"./index-8886e64c.js";import"./useSlot-512c6a68.js";import"./ListItem-df0d5a85.js";import"./index.esm-eaeab6e7.js";import"./IconButton-101c88e4.js";import"./useDispatch-878c29d8.js";import"./index-f9ed67d0.js";import"./useSlotProps-70f7ca87.js";import"./KeyboardArrowRight-bc2722de.js";import"./visuallyHidden-fa9934b5.js";import"./createStack-ee48abd7.js";import"./styled-533bb9dc.js";import"./Link-52777340.js";var S={},ee=V;Object.defineProperty(S,"__esModule",{value:!0});var I=S.default=void 0,te=ee(q()),_=o;I=S.default=(0,te.default)([(0,_.jsx)("path",{d:"M4.01 8.54C5.2 9.23 6 10.52 6 12s-.81 2.77-2 3.46V18h16v-2.54c-1.19-.69-2-1.99-2-3.46s.81-2.77 2-3.46V6H4zM11 7h2v2h-2zm0 4h2v2h-2zm0 4h2v2h-2z",opacity:".3"},"0"),(0,_.jsx)("path",{d:"M22 10V6c0-1.11-.9-2-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2m-2-1.46c-1.19.69-2 1.99-2 3.46s.81 2.77 2 3.46V18H4v-2.54c1.19-.69 2-1.99 2-3.46 0-1.48-.8-2.77-1.99-3.46L4 6h16zM11 15h2v2h-2zm0-4h2v2h-2zm0-4h2v2h-2z"},"1")],"ConfirmationNumberTwoTone");const oe=c.createContext({}),$=oe;function ne(t){return T("MuiTimeline",t)}g("MuiTimeline",["root","positionLeft","positionRight","positionAlternate"]);const ie=["position","className"],se=t=>{const{position:e,classes:n}=t,i={root:["root",e&&`position${x(e)}`]};return j(i,ne,n)},re=b("ul",{name:"MuiTimeline",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.position&&e[`position${x(n.position)}`]]}})({display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1}),le=c.forwardRef(function(e,n){const i=v({props:e,name:"MuiTimeline"}),{position:s="right",className:l}=i,r=f(i,ie),a=p({},i,{position:s}),u=se(a),d=c.useMemo(()=>({position:s}),[s]);return o.jsx($.Provider,{value:d,children:o.jsx(re,p({className:C(u.root,l),ownerState:a,ref:n},r))})}),ae=le;function ce(t){return T("MuiTimelineContent",t)}const pe=g("MuiTimelineContent",["root","positionLeft","positionRight","positionAlternate"]),me=pe,ue=["className"],de=t=>{const{position:e,classes:n}=t,i={root:["root",`position${x(e)}`]};return j(i,ce,n)},xe=b(m,{name:"MuiTimelineContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${x(n.position)}`]]}})(({ownerState:t})=>p({flex:1,padding:"6px 16px",textAlign:"left"},t.position==="left"&&{textAlign:"right"})),fe=c.forwardRef(function(e,n){const i=v({props:e,name:"MuiTimelineContent"}),{className:s}=i,l=f(i,ue),{position:r}=c.useContext($),a=p({},i,{position:r||"right"}),u=de(a);return o.jsx(xe,p({component:"div",className:C(u.root,s),ownerState:a,ref:n},l))}),he=fe;function ve(t){return T("MuiTimelineOppositeContent",t)}const Ce=g("MuiTimelineOppositeContent",["root","positionLeft","positionRight","positionAlternate"]),O=Ce,Te=["className"],ge=t=>{const{position:e,classes:n}=t,i={root:["root",`position${x(e)}`]};return j(i,ve,n)},be=b(m,{name:"MuiTimelineOppositeContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${x(n.position)}`]]}})(({ownerState:t})=>p({padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1},t.position==="left"&&{textAlign:"left"})),U=c.forwardRef(function(e,n){const i=v({props:e,name:"MuiTimelineOppositeContent"}),{className:s}=i,l=f(i,Te),{position:r}=c.useContext($),a=p({},i,{position:r||"left"}),u=ge(a);return o.jsx(be,p({component:"div",className:C(u.root,s),ownerState:a,ref:n},l))});U.muiName="TimelineOppositeContent";const je=U;function ye(t){return T("MuiTimelineItem",t)}g("MuiTimelineItem",["root","positionLeft","positionRight","positionAlternate","missingOppositeContent"]);const Re=["position","className"],$e=t=>{const{position:e,classes:n,hasOppositeContent:i}=t,s={root:["root",`position${x(e)}`,!i&&"missingOppositeContent"]};return j(s,ye,n)},we=b("li",{name:"MuiTimelineItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${x(n.position)}`]]}})(({ownerState:t})=>p({listStyle:"none",display:"flex",position:"relative",minHeight:70},t.position==="left"&&{flexDirection:"row-reverse"},t.position==="alternate"&&{"&:nth-of-type(even)":{flexDirection:"row-reverse",[`& .${me.root}`]:{textAlign:"right"},[`& .${O.root}`]:{textAlign:"left"}}},!t.hasOppositeContent&&{"&:before":{content:'""',flex:1,padding:"6px 16px"}})),Me=c.forwardRef(function(e,n){const i=v({props:e,name:"MuiTimelineItem"}),{position:s,className:l}=i,r=f(i,Re),{position:a}=c.useContext($);let u=!1;c.Children.forEach(i.children,M=>{Q(M,["TimelineOppositeContent"])&&(u=!0)});const d=p({},i,{position:s||a||"right",hasOppositeContent:u}),y=$e(d),w=c.useMemo(()=>({position:d.position}),[d.position]);return o.jsx($.Provider,{value:w,children:o.jsx(we,p({className:C(y.root,l),ownerState:d,ref:n},r))})}),Se=Me;function Ne(t){return T("MuiTimelineSeparator",t)}g("MuiTimelineSeparator",["root"]);const Pe=["className"],_e=t=>{const{classes:e}=t;return j({root:["root"]},Ne,e)},De=b("div",{name:"MuiTimelineSeparator",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",flex:0,alignItems:"center"}),Ie=c.forwardRef(function(e,n){const i=v({props:e,name:"MuiTimelineSeparator"}),{className:s}=i,l=f(i,Pe),r=i,a=_e(r);return o.jsx(De,p({className:C(a.root,s),ownerState:r,ref:n},l))}),Oe=Ie;function Ue(t){return T("MuiTimelineConnector",t)}g("MuiTimelineConnector",["root"]);const Ae=["className"],ze=t=>{const{classes:e}=t;return j({root:["root"]},Ue,e)},Ee=b("span",{name:"MuiTimelineConnector",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.grey[400],flexGrow:1})),Le=c.forwardRef(function(e,n){const i=v({props:e,name:"MuiTimelineConnector"}),{className:s}=i,l=f(i,Ae),r=i,a=ze(r);return o.jsx(Ee,p({className:C(a.root,s),ownerState:r,ref:n},l))}),Ve=Le;function ke(t){return T("MuiTimelineDot",t)}g("MuiTimelineDot",["root","filled","outlined","filledGrey","outlinedGrey","filledPrimary","outlinedPrimary","filledSecondary","outlinedSecondary"]);const Be=["className","color","variant"],We=t=>{const{color:e,variant:n,classes:i}=t,s={root:["root",n,e!=="inherit"&&`${n}${x(e)}`]};return j(s,ke,i)},Ge=b("span",{name:"MuiTimelineDot",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.color!=="inherit"&&`${n.variant}${x(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>p({display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:(e.vars||e).shadows[1],margin:"11.5px 0"},t.variant==="filled"&&p({borderColor:"transparent"},t.color!=="inherit"&&p({},t.color==="grey"?{color:(e.vars||e).palette.grey[50],backgroundColor:(e.vars||e).palette.grey[400]}:{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main})),t.variant==="outlined"&&p({boxShadow:"none",backgroundColor:"transparent"},t.color!=="inherit"&&p({},t.color==="grey"?{borderColor:(e.vars||e).palette.grey[400]}:{borderColor:(e.vars||e).palette[t.color].main})))),He=c.forwardRef(function(e,n){const i=v({props:e,name:"MuiTimelineDot"}),{className:s,color:l="grey",variant:r="filled"}=i,a=f(i,Be),u=p({},i,{color:l,variant:r}),d=We(u);return o.jsx(Ge,p({className:C(d.root,s),ownerState:u,ref:n},a))}),qe=He,A=c.createContext(null);function Fe(){const[t,e]=c.useState(null);return c.useEffect(()=>{e(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),t}function Ze(t){const{children:e,value:n}=t,i=Fe(),s=c.useMemo(()=>({idPrefix:i,value:n}),[i,n]);return o.jsx(A.Provider,{value:s,children:e})}function z(){return c.useContext(A)}function E(t,e){const{idPrefix:n}=t;return n===null?null:`${t.idPrefix}-P-${e}`}function L(t,e){const{idPrefix:n}=t;return n===null?null:`${t.idPrefix}-T-${e}`}const Je=["children"],Ke=c.forwardRef(function(e,n){const{children:i}=e,s=f(e,Je),l=z();if(l===null)throw new TypeError("No TabContext provided");const r=c.Children.map(i,a=>c.isValidElement(a)?c.cloneElement(a,{"aria-controls":E(l,a.props.value),id:L(l,a.props.value)}):null);return o.jsx(J,p({},s,{ref:n,value:l.value,children:r}))}),Qe=Ke;function Xe(t){return T("MuiTabPanel",t)}g("MuiTabPanel",["root"]);const Ye=["children","className","value"],et=t=>{const{classes:e}=t;return j({root:["root"]},Xe,e)},tt=b("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(3)})),ot=c.forwardRef(function(e,n){const i=v({props:e,name:"MuiTabPanel"}),{children:s,className:l,value:r}=i,a=f(i,Ye),u=p({},i),d=et(u),y=z();if(y===null)throw new TypeError("No TabContext provided");const w=E(y,r),M=L(y,r);return o.jsx(tt,p({"aria-labelledby":M,className:C(d.root,l),hidden:r!==y.value,id:w,ref:n,role:"tabpanel",ownerState:u},a,{children:r===y.value&&s}))}),D=ot;function nt(){const{id:t}=k(),{data:e}=B("Issue",t),[n,i]=W.useState("1"),s=(l,r)=>{i(r)};return o.jsxs(h,{sx:{display:"flex",flexDirection:{xs:"column",md:"row",ls:"row"},gap:2,width:"100%"},children:[o.jsx(N,{sx:{minWidth:"50%"},children:o.jsxs(Ze,{value:n,children:[o.jsx(h,{sx:{borderBottom:1,borderColor:"divider"},children:o.jsxs(Qe,{onChange:s,"aria-label":"lab API tabs example",children:[o.jsx(P,{label:"Ticket Details",value:"1"}),o.jsx(P,{label:"Updates",value:"2"})]})}),o.jsx(D,{value:"1",children:e&&o.jsx(it,{id:e.name,title:e.subject,rating:e.rating,ratingDescription:e.rating_description,issueSubtype:e.custom_issue_subtype,issueType:e.issue_type,description:e.description,priority:e.priority})}),o.jsx(D,{value:"2",children:e&&o.jsx(st,{id:e.name,statusTracker:e.issue_status_tracker})})]})}),e&&o.jsx(N,{children:o.jsx(Z,{id:e.name,title:e.subject,status:e.status})})]})}function it({id:t,title:e,description:n,rating:i,ratingDescription:s,issueSubtype:l,issueType:r,priority:a}){return o.jsxs(h,{children:[o.jsxs(h,{display:"flex",alignItems:"center",children:[o.jsx(I,{sx:{width:"70px",height:"70px"}}),o.jsxs(h,{sx:{ml:2},children:[o.jsx(m,{variant:"h6",mb:.5,children:t}),o.jsx(m,{variant:"body2",color:"text.secondary",mb:.5,children:e})]})]}),o.jsxs(R,{container:!0,children:[o.jsxs(R,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(m,{variant:"body2",color:"text.secondary",children:"Issue Type"}),o.jsx(m,{variant:"subtitle1",mb:.5,fontWeight:600,children:r||"No issue type"})]}),o.jsxs(R,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(m,{variant:"body2",color:"text.secondary",children:"Issue Subtype"}),o.jsx(m,{variant:"subtitle1",fontWeight:600,mb:.5,children:l||"No issue sub type"})]}),o.jsxs(R,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(m,{variant:"body2",color:"text.secondary",children:"Priority"}),o.jsx(m,{variant:"subtitle1",fontWeight:600,mb:.5,children:a})]}),o.jsxs(R,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(m,{variant:"body2",color:"text.secondary",children:"Description"}),o.jsx(m,{variant:"subtitle1",mb:.5,fontWeight:600,children:n||"No ticket description"})]}),i>0?o.jsxs(o.Fragment,{children:[o.jsxs(R,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(m,{variant:"body2",mb:.5,color:"text.secondary",children:"Rating"}),o.jsx(K,{name:"read-only",value:i,readOnly:!0})]}),o.jsxs(R,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(m,{variant:"body2",color:"text.secondary",children:"Review Description"}),o.jsx(m,{variant:"subtitle1",fontWeight:600,mb:.5,children:s||"No review description"})]})]}):null]})]})}function st({id:t,statusTracker:e}){G("Comment",{fields:["name","content","comment_email","creation","comment_by"],filters:[["reference_doctype","=","Issue"],["reference_name","=",t]],limit:1e4,orderBy:{field:"creation",order:"desc"}});const n=s=>{const l={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},r=new Date(s);return new Intl.DateTimeFormat("en-GB",l).format(r).replace(",","")},i=s=>s===null||s===""?"":(s=s.toString(),s.replace(/(<([^>]+)>)/ig,""));return o.jsx(h,{children:(e==null?void 0:e.length)!==0?o.jsx(ae,{sx:{[`& .${O.root}`]:{flex:.2}},children:o.jsx(h,{children:o.jsx(F,{sx:{overflow:"auto",maxHeight:{xs:"60vh",md:"63vh",lg:"63vh"}},children:e==null?void 0:e.map(s=>o.jsxs(Se,{children:[o.jsx(je,{color:"textSecondary",sx:{fontSize:"0.6rem"},children:n(s.changed_on)}),o.jsxs(Oe,{children:[o.jsx(qe,{}),o.jsx(Ve,{})]}),o.jsx(he,{children:i(s.post_value)})]}))})})}):o.jsx(X,{alignItems:"center",justifyContent:"center",width:"100%",height:"100%",children:o.jsx(m,{variant:"h4",children:"No Updates"})})})}const rt=[{to:"/dashboard",title:"Home"},{to:"/tickets",title:"Tickets"},{title:"Ticket Details"}];function Jt(){return o.jsxs(H,{title:"Ticket Details - Novel Office",description:"this is Details page",children:[o.jsx(Y,{title:"Ticket Details",items:rt}),o.jsx(h,{mt:-2,children:o.jsx(nt,{})})]})}export{Jt as default};
