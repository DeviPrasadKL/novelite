import{r as I,u as xe,a as V,_ as h,j as e,P as F,z as Le,ae as Be}from"./index-8bfed645.js";import{P as $e}from"./PageContainer-47103aa8.js";import{B as Me}from"./Breadcrumb-bbacccc9.js";import{r as k,i as A}from"./createSvgIcon-9bfb74f4.js";import"./ParentCard-612634b0.js";import{S as ke}from"./Stack-59afe71d.js";import{B}from"./Box-3c94d1eb.js";import{g as fe,a as ve,s as _,c as $,b as Pe,T as f}from"./Typography-47156341.js";import{S as je,I as Ae,F as Fe,b as Ne}from"./Select-1844a5a7.js";import{M as Re}from"./MenuItem-c57b5bab.js";import{P as De}from"./Paper-3491a742.js";import{T as ze,L as ae,F as oe,a as d,b as Ke,c as qe,d as He,e as N,f as Ue}from"./TableRow-0f76897b.js";import{C as Ee}from"./Chip-32228bd6.js";import{L as Oe}from"./Link-4d26ae8f.js";import{c as Ie,u as ye}from"./Grid-9d942919.js";import{I as C}from"./IconButton-435c306b.js";import{T as We}from"./Toolbar-14e08fd5.js";import{b as se}from"./useControlled-348bbdbe.js";import{i as Ve}from"./useSlotProps-a100492e.js";import{u as Ge}from"./useDispatch-6786e4e4.js";import"./index.esm-ad28f87e.js";import"./Card-87c5da24.js";import"./CardHeader-cbe6f7a4.js";import"./Divider-748bad17.js";import"./CardContent-be4b8cc9.js";import"./createStack-ace380f4.js";import"./styled-19167205.js";import"./Modal-ea7f8433.js";function Je(t){return fe("MuiTableFooter",t)}ve("MuiTableFooter",["root"]);const Qe=["className","component"],Xe=t=>{const{classes:a}=t;return Pe({root:["root"]},Je,a)},Ye=_("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(t,a)=>a.root})({display:"table-footer-group"}),Ze={variant:"footer"},ne="tfoot",et=I.forwardRef(function(a,c){const s=xe({props:a,name:"MuiTableFooter"}),{className:u,component:r=ne}=s,v=V(s,Qe),l=h({},s,{component:r}),p=Xe(l);return e.jsx(ze.Provider,{value:Ze,children:e.jsx(Ye,h({as:r,className:$(p.root,u),ref:c,role:r===ne?null:"rowgroup",ownerState:l},v))})}),tt=et,re=Ie(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),le=Ie(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var ie,ce,de,ue,pe,he,me,ge;const at=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slotProps"],ot=I.forwardRef(function(a,c){var s,u,r,v;const{backIconButtonProps:l,count:p,disabled:m=!1,getItemAriaLabel:n,nextIconButtonProps:T,onPageChange:y,page:i,rowsPerPage:o,showFirstButton:w,showLastButton:D,slotProps:P}=a,S=V(a,at),b=ye(),L=g=>{y(g,0)},z=g=>{y(g,i-1)},K=g=>{y(g,i+1)},q=g=>{y(g,Math.max(0,Math.ceil(p/o)-1))};return e.jsxs("div",h({ref:c},S,{children:[w&&e.jsx(C,h({onClick:L,disabled:m||i===0,"aria-label":n("first",i),title:n("first",i)},(s=P==null?void 0:P.firstButton)!=null?s:{},{children:b.direction==="rtl"?ie||(ie=e.jsx(ae,{})):ce||(ce=e.jsx(oe,{}))})),e.jsx(C,h({onClick:z,disabled:m||i===0,color:"inherit","aria-label":n("previous",i),title:n("previous",i)},(u=P==null?void 0:P.previousButton)!=null?u:l,{children:b.direction==="rtl"?de||(de=e.jsx(le,{})):ue||(ue=e.jsx(re,{}))})),e.jsx(C,h({onClick:K,disabled:m||(p!==-1?i>=Math.ceil(p/o)-1:!1),color:"inherit","aria-label":n("next",i),title:n("next",i)},(r=P==null?void 0:P.nextButton)!=null?r:T,{children:b.direction==="rtl"?pe||(pe=e.jsx(re,{})):he||(he=e.jsx(le,{}))})),D&&e.jsx(C,h({onClick:q,disabled:m||i>=Math.ceil(p/o)-1,"aria-label":n("last",i),title:n("last",i)},(v=P==null?void 0:P.lastButton)!=null?v:{},{children:b.direction==="rtl"?me||(me=e.jsx(oe,{})):ge||(ge=e.jsx(ae,{}))}))]}))}),st=ot;function nt(t){return fe("MuiTablePagination",t)}const rt=ve("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),M=rt;var be;const lt=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps"],it=_(d,{name:"MuiTablePagination",slot:"Root",overridesResolver:(t,a)=>a.root})(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}})),ct=_(We,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,a)=>h({[`& .${M.actions}`]:a.actions},a.toolbar)})(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${M.actions}`]:{flexShrink:0,marginLeft:20}})),dt=_("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(t,a)=>a.spacer})({flex:"1 1 100%"}),ut=_("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(t,a)=>a.selectLabel})(({theme:t})=>h({},t.typography.body2,{flexShrink:0})),pt=_(je,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,a)=>h({[`& .${M.selectIcon}`]:a.selectIcon,[`& .${M.select}`]:a.select},a.input,a.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${M.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),ht=_(Re,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(t,a)=>a.menuItem})({}),mt=_("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(t,a)=>a.displayedRows})(({theme:t})=>h({},t.typography.body2,{flexShrink:0}));function gt({from:t,to:a,count:c}){return`${t}â€“${a} of ${c!==-1?c:`more than ${a}`}`}function bt(t){return`Go to ${t} page`}const xt=t=>{const{classes:a}=t;return Pe({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},nt,a)},ft=I.forwardRef(function(a,c){var s;const u=xe({props:a,name:"MuiTablePagination"}),{ActionsComponent:r=st,backIconButtonProps:v,className:l,colSpan:p,component:m=d,count:n,disabled:T=!1,getItemAriaLabel:y=bt,labelDisplayedRows:i=gt,labelRowsPerPage:o="Rows per page:",nextIconButtonProps:w,onPageChange:D,onRowsPerPageChange:P,page:S,rowsPerPage:b,rowsPerPageOptions:L=[10,25,50,100],SelectProps:z={},showFirstButton:K=!1,showLastButton:q=!1,slotProps:g}=u,we=V(u,lt),H=u,x=xt(H),j=(s=g==null?void 0:g.select)!=null?s:z,Z=j.native?"option":ht;let ee;(m===d||m==="td")&&(ee=p||1e3);const Se=se(j.id),te=se(j.labelId),Te=()=>n===-1?(S+1)*b:b===-1?n:Math.min(n,(S+1)*b);return e.jsx(it,h({colSpan:ee,ref:c,as:m,ownerState:H,className:$(x.root,l)},we,{children:e.jsxs(ct,{className:x.toolbar,children:[e.jsx(dt,{className:x.spacer}),L.length>1&&e.jsx(ut,{className:x.selectLabel,id:te,children:o}),L.length>1&&e.jsx(pt,h({variant:"standard"},!j.variant&&{input:be||(be=e.jsx(Ae,{}))},{value:b,onChange:P,id:Se,labelId:te},j,{classes:h({},j.classes,{root:$(x.input,x.selectRoot,(j.classes||{}).root),select:$(x.select,(j.classes||{}).select),icon:$(x.selectIcon,(j.classes||{}).icon)}),disabled:T,children:L.map(R=>I.createElement(Z,h({},!Ve(Z)&&{ownerState:H},{className:x.menuItem,key:R.label?R.label:R,value:R.value?R.value:R}),R.label?R.label:R))})),e.jsx(mt,{className:x.displayedRows,children:i({from:n===0?0:S*b+1,to:Te(),count:n===-1?-1:n,page:S})}),e.jsx(r,{className:x.actions,backIconButtonProps:v,count:n,nextIconButtonProps:w,onPageChange:D,page:S,rowsPerPage:b,showFirstButton:K,showLastButton:q,slotProps:g==null?void 0:g.actions,getItemAriaLabel:y,disabled:T})]})}))}),vt=ft;var G={},Pt=A;Object.defineProperty(G,"__esModule",{value:!0});var U=G.default=void 0,jt=Pt(k()),Rt=e;U=G.default=(0,jt.default)((0,Rt.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var J={},It=A;Object.defineProperty(J,"__esModule",{value:!0});var E=J.default=void 0,yt=It(k()),Ct=e;E=J.default=(0,yt.default)((0,Ct.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var Q={},_t=A;Object.defineProperty(Q,"__esModule",{value:!0});var O=Q.default=void 0,wt=_t(k()),St=e;O=Q.default=(0,wt.default)((0,St.jsx)("path",{d:"M18.41 16.59 13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");var X={},Tt=A;Object.defineProperty(X,"__esModule",{value:!0});var W=X.default=void 0,Lt=Tt(k()),Bt=e;W=X.default=(0,Lt.default)((0,Bt.jsx)("path",{d:"M5.59 7.41 10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");var Y={},$t=A;Object.defineProperty(Y,"__esModule",{value:!0});var Ce=Y.default=void 0,Mt=$t(k()),kt=e;Ce=Y.default=(0,Mt.default)((0,kt.jsx)("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5z"}),"FileDownloadOutlined");function _e(t){const a=ye(),{count:c,page:s,rowsPerPage:u,onPageChange:r}=t,v=n=>{r(n,0)},l=n=>{r(n,s-1)},p=n=>{r(n,s+1)},m=n=>{r(n,Math.max(0,Math.ceil(c/u)-1))};return e.jsxs(B,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(C,{onClick:v,disabled:s===0,"aria-label":"first page",children:a.direction==="rtl"?e.jsx(W,{}):e.jsx(O,{})}),e.jsx(C,{onClick:l,disabled:s===0,"aria-label":"previous page",children:a.direction==="rtl"?e.jsx(E,{}):e.jsx(U,{})}),e.jsx(C,{onClick:p,disabled:s>=Math.ceil(c/u)-1,"aria-label":"next page",children:a.direction==="rtl"?e.jsx(U,{}):e.jsx(E,{})}),e.jsx(C,{onClick:m,disabled:s>=Math.ceil(c/u)-1,"aria-label":"last page",children:a.direction==="rtl"?e.jsx(O,{}):e.jsx(W,{})})]})}_e.propTypes={count:F.number.isRequired,onPageChange:F.func.isRequired,page:F.number.isRequired,rowsPerPage:F.number.isRequired};function At({data:t}){var i;const[a,c]=I.useState(0),[s,u]=I.useState("All"),[r,v]=I.useState(5),[l,p]=I.useState(t);I.useEffect(()=>{p(s==="Pending"?t==null?void 0:t.filter(o=>o.status==="Overdue"||o.status==="Unpaid"||o.status==="Partly Paid"||o.status==="Unpaid and Discounted"||o.status==="Overdue and Discounted"||o.status==="Partly Paid and Discounted"):s==="Paid"?t==null?void 0:t.filter(o=>o.status==="Paid"||o.status==="Credit Note Issued"):s==="Credit Note"?t==null?void 0:t.filter(o=>o.status==="Return"):t)},[s]);const m=a>0?Math.max(0,(1+a)*r-(l==null?void 0:l.length)):0,n=(o,w)=>{c(w)},T=o=>{v(parseInt(o.target.value,10)),c(0)};let y=["All","Pending","Paid","Credit Note"];return e.jsxs(ke,{children:[e.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(B,{children:e.jsx(f,{children:"Invoice List"})}),e.jsx(B,{sx:{mb:2},children:e.jsxs(Fe,{sx:{m:1,minWidth:140},children:[e.jsx(Ne,{id:"demo-simple-select-autowidth-label",children:"Status"}),e.jsx(je,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:s,label:"Status",onChange:o=>u(o.target.value),children:y.map((o,w)=>e.jsx(Re,{value:o,children:o},o+w))})]})})]}),e.jsx(De,{variant:"outlined",children:e.jsx(Ke,{children:e.jsxs(qe,{"aria-label":"custom sales invoice",sx:{whiteSpace:"nowrap"},children:[e.jsx(He,{children:e.jsxs(N,{children:[e.jsx(d,{children:e.jsx(f,{variant:"h6",children:"Invoice No."})}),e.jsx(d,{children:e.jsx(f,{variant:"h6",children:"Invoice Amount"})}),e.jsx(d,{children:e.jsx(f,{variant:"h6",children:"Due Date"})}),e.jsx(d,{children:e.jsx(f,{variant:"h6",children:"Location"})}),e.jsx(d,{children:e.jsx(f,{variant:"h6",children:"Status"})}),e.jsx(d,{children:e.jsx(f,{variant:"h6",children:"Download"})})]})}),e.jsxs(Ue,{children:[(i=r>0?l==null?void 0:l.slice(a*r,a*r+r):l)==null?void 0:i.map(o=>e.jsxs(N,{children:[e.jsx(d,{children:e.jsx(f,{variant:"h6",children:o.name})}),e.jsx(d,{children:e.jsxs(f,{color:"textSecondary",variant:"h6",fontWeight:"400",children:["â‚¹ ",o.rounded_total]})}),e.jsx(d,{children:e.jsx(f,{variant:"h6",children:o.due_date})}),e.jsx(d,{children:e.jsx(f,{color:"textSecondary",variant:"h6",fontWeight:"400",children:o.location===null?"----":o.location})}),e.jsx(d,{children:e.jsx(Ee,{color:s==="Paid"?"success":s==="Credit Note"?"error":s==="Pending"?"primary":"secondary",sx:{borderRadius:"6px"},size:"small",label:s==="All"?o.status==="Credit Note Issued"?"Paid":o.status==="Return"?"Credit Note":o.status:s})}),e.jsx(d,{children:e.jsx(B,{color:"secondary",marginLeft:"1.5rem",component:Oe,target:"_blank",href:`http://${window.location.hostname}/api/method/frappe.utils.print_format.download_pdf?doctype=Sales Invoice&name=${o.name}&format=Business Center&no_letterhead=1&letterhead=No Letterhead &settings={}&_lang=en-US`,children:e.jsx(Ce,{})})})]},o.name)),m>0&&e.jsx(N,{style:{height:53*m},children:e.jsx(d,{colSpan:6})})]}),e.jsx(tt,{children:e.jsx(N,{children:e.jsx(vt,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:l==null?void 0:l.length,rowsPerPage:r,page:a,SelectProps:{inputprops:{"aria-label":"rows per page"},native:!0},onPageChange:n,onRowsPerPageChange:T,ActionsComponent:_e})})})]})})})]})}const Ft=[{to:"/dashboard",title:"Home"},{title:"Sales Invoice"}],ua=()=>{const t=Le(r=>r.novelprofileReducer.companyName);Ge();const{data:a,error:c,isValidating:s,mutate:u}=Be("Sales Invoice",{fields:["name","status","due_date","rounded_total","location"],filters:[["customer","=",t]],limit_start:0,limit:1e5,orderBy:{field:"creation",order:"desc"}});return e.jsxs($e,{title:"Sales Invoice - Novel Office",description:"this is Sales Invoice page",children:[e.jsx(Me,{title:"Sales Invoice",items:Ft}),a&&e.jsx(At,{data:a})]})};export{ua as default};
