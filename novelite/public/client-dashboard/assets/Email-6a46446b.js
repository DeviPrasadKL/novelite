var ie=Object.defineProperty,se=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var $=(r,s,o)=>s in r?ie(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o,z=(r,s)=>{for(var o in s||(s={}))ae.call(s,o)&&$(r,o,s[o]);if(H)for(var o of H(s))ne.call(s,o)&&$(r,o,s[o]);return r},O=(r,s)=>se(r,oe(s));import{j as e,r as x,af as le,e as u,ag as ce,ah as Q,ai as V,aj as _,ak as G,R as de,al as me,am as pe}from"./index-0997c756.js";import{B as he}from"./Breadcrumb-123ad626.js";import{C as xe}from"./CustomCheckbox-d81bd69d.js";import{J as P,W as A,I as B,E as ue,F as je,K as fe,L as ge,M as I,G as Ce,D as be}from"./index.esm-26dde97f.js";import{u as J,G as U,P as we}from"./Grid-88ffd97c.js";import{L as q}from"./ListItemButton-5710c1da.js";import{B as a}from"./Box-1bbd28bd.js";import{L as X}from"./ListItemIcon-f96e7cea.js";import{L as Y}from"./ListItemText-22bf5580.js";import{S as g}from"./Stack-433b3d80.js";import{T as m}from"./Typography-a2df6bec.js";import{C as Z}from"./Chip-6a130307.js";import{f as ve}from"./index-471ed29c.js";import{S as ee}from"./Scrollbar-e30dca38.js";import{L as re}from"./List-c5bd1a47.js";import{u as S}from"./useDispatch-66664104.js";import{C as v}from"./CustomFormLabel-910ed191.js";import{S as ke}from"./Slide-0ecb3830.js";import{B as h}from"./Button-cff95edf.js";import{D as ye,a as Le}from"./DialogContent-b4b2af1e.js";import{D as Se}from"./DialogTitle-b52c4a29.js";import{D as ze}from"./DialogContentText-9ed6f011.js";import{T as k}from"./TextField-8e88b390.js";import{D as Ie}from"./DialogActions-0f597eaa.js";import{D as y}from"./Divider-c9bb0ca0.js";import{C as Ee}from"./CustomTextField-dc84a73c.js";import{F as Te}from"./Fab-d949d97c.js";import{I as De}from"./InputAdornment-f02ec9d8.js";import{e as L}from"./emailSv-e31e5e93.js";import{R as We}from"./Quill-2e6caa57.js";import{T as E}from"./Tooltip-648ba9a7.js";import{I as T}from"./IconButton-c700279b.js";import{A as D}from"./Avatar-df4a6c8a.js";import{P as Re}from"./PageContainer-ff5cc437.js";import{A as Fe}from"./AppCard-42ce45fd.js";import{u as K}from"./useMediaQuery-c91d66b2.js";import{D as W}from"./Drawer-fc4b31be.js";import"./Link-02db63cc.js";import"./SwitchBase-a439279a.js";import"./useFormControl-d465193c.js";import"./useControlled-c8393ec8.js";import"./ListContext-c7ccd71e.js";import"./listItemButtonClasses-7d2f659b.js";import"./listItemIconClasses-58bb7378.js";import"./listItemTextClasses-e73dd702.js";import"./createStack-57ef95d4.js";import"./styled-1b66e095.js";import"./index-5a0c5ef2.js";import"./index-266cca45.js";import"./index-d0b3929f.js";import"./utils-498db255.js";import"./ownerWindow-698471fc.js";import"./ownerDocument-613eb639.js";import"./Modal-b2861165.js";import"./Fade-841735be.js";import"./createChainedFunction-0bab83cf.js";import"./Portal-51ee1592.js";import"./useId-e4fe3eda.js";import"./FormControl-18a5fd71.js";import"./utils-5ebfb48b.js";import"./isMuiElement-ed530f57.js";import"./formControlState-02eb4045.js";import"./Select-9ac3337b.js";import"./Popover-0a85144e.js";import"./Grow-1a033e11.js";import"./InputBase-5410fef4.js";import"./dividerClasses-e55002a2.js";import"./_baseIsEqual-8e80f9bd.js";import"./isObjectLike-6bf2549a.js";import"./Popper-642afce1.js";import"./createPopper-319e19c4.js";import"./Card-d9c51ed6.js";const Pe=({id:r,onClick:s,onChange:o,onStar:n,onImportant:p,from:t,subject:c,time:l,checked:i,label:j,starred:f,onDelete:C,important:b,isSelected:d})=>{const w=J(),M=w.palette.warning.main,te=w.palette.error.light;return e.jsxs(q,{sx:{mb:1,py:2},selected:d,alignItems:"flex-start",children:[e.jsx(a,{children:e.jsx(X,{sx:{minWidth:"35px",mt:"0"},children:e.jsx(xe,{edge:"start",id:`check${r}`,tabIndex:-1,onChange:o})})}),e.jsxs(Y,{onClick:s,children:[e.jsxs(g,{direction:"row",gap:"10px",alignItems:"center",children:[e.jsx(m,{variant:"subtitle2",mb:.5,fontWeight:600,mr:"auto",children:t}),e.jsx(Z,{label:j,size:"small",color:j==="Promotional"?"primary":j==="Social"?"error":"success"})]}),e.jsx(m,{variant:"subtitle2",noWrap:!0,width:"80%",color:"text.secondary",children:c}),e.jsxs(g,{direction:"row",mt:1,gap:"10px",alignItems:"center",children:[e.jsx(P,{onClick:n,stroke:1,size:"18",style:{fill:f?M:"",stroke:f?M:""}}),e.jsx(A,{onClick:p,size:"18",stroke:1.2,style:{fill:b?te:""}}),i?e.jsx(B,{onClick:C,stroke:1.5,size:"16"}):"",e.jsxs(m,{variant:"caption",noWrap:!0,sx:{ml:"auto"},children:[ve(new Date(l),{addSuffix:!1}),"","ago"]})]})]})]})},Ae=({showrightSidebar:r})=>{const s=S();x.useEffect(()=>{s(le())},[s]);const o=(t,c,l)=>{switch(c){case"inbox":return t.filter(i=>i.inbox&&!i.trash&&i.from.toLocaleLowerCase().includes(l));case"sent":return t.filter(i=>i.sent&&!i.trash&&i.from.toLocaleLowerCase().includes(l));case"draft":return t.filter(i=>i.draft&&!i.trash&&i.from.toLocaleLowerCase().includes(l));case"spam":return t.filter(i=>i.spam&&!i.trash&&i.from.toLocaleLowerCase().includes(l));case"trash":return t.filter(i=>i.trash&&i.from.toLocaleLowerCase().includes(l));case"starred":return t.filter(i=>i.starred&&!i.trash&&i.from.toLocaleLowerCase().includes(l));case"important":return t.filter(i=>i.important&&!i.trash&&i.from.toLocaleLowerCase().includes(l));case"Promotional":return t.filter(i=>i.label==="Promotional"&&!i.trash&&i.from.toLocaleLowerCase().includes(l));case"Social":return t.filter(i=>i.label==="Social"&&!i.trash&&i.from.toLocaleLowerCase().includes(l));case"Health":return t.filter(i=>i.label==="Health"&&!i.trash&&i.from.toLocaleLowerCase().includes(l));default:throw new Error(`Unknown filter: ${c}`)}},n=u(t=>o(t.emailReducer.emails,t.emailReducer.currentFilter,t.emailReducer.emailSearch)),p=u(t=>t.emailReducer.emailContent);return e.jsx(re,{children:e.jsx(ee,{sx:{height:{lg:"calc(100vh - 100px)",md:"100vh"},maxHeight:"800px"},children:n.map(t=>e.jsx(Pe,O(z({active:p},t),{onClick:()=>{s(ce(t.id)),r()},onDelete:()=>s(Q(t.id)),isSelected:t.id===p,onStar:()=>s(V(t.id)),onImportant:()=>s(_(t.id)),onChange:c=>{c.target.checked===!0?s(G(t.id,"checked")):s(G(t.id,"unchecked"))}}),t.id))})})},Be=de.forwardRef((r,s)=>e.jsx(ke,z({direction:"up",ref:s},r))),Me=()=>{const[r,s]=x.useState(!1),o=()=>{s(!0)},n=()=>{s(!1)};return e.jsxs(a,{children:[e.jsx(a,{p:3,pb:1,children:e.jsx(h,{variant:"contained",fullWidth:!0,color:"primary",onClick:o,children:"Compose"})}),e.jsxs(ye,{open:r,TransitionComponent:Be,keepMounted:!0,onClose:n,fullWidth:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[e.jsx(Se,{id:"alert-dialog-slide-title",variant:"h5",children:"Compose Mail"}),e.jsx(Le,{children:e.jsxs(ze,{id:"alert-dialog-slide-description",component:"div",children:[e.jsx(v,{htmlFor:"to-text",children:"To"}),e.jsx(k,{id:"to-text",fullWidth:!0,size:"small",variant:"outlined"}),e.jsx(v,{htmlFor:"subject-text",children:"Subject"}),e.jsx(k,{id:"subject-text",fullWidth:!0,size:"small",variant:"outlined"}),e.jsx(v,{htmlFor:"message-text",children:"Message"}),e.jsx(k,{id:"message-text",placeholder:"Write a message",multiline:!0,fullWidth:!0,rows:4,variant:"outlined"}),e.jsx(v,{htmlFor:"upload-text",children:"Attachment"}),e.jsx(k,{type:"file",autoFocus:!0,id:"upload-text",fullWidth:!0,size:"small",variant:"outlined"})]})}),e.jsxs(Ie,{children:[e.jsx(h,{onClick:n,color:"primary",variant:"contained",children:"Send"}),e.jsx(h,{onClick:n,color:"secondary",children:"Cancel"})]})]})]})},He=()=>{const r=u(t=>t.emailReducer.currentFilter),o=`${u(t=>t.customizer).borderRadius}px`,n=S(),p=[{id:2,name:"inbox",icon:ue,color:"inherit"},{id:3,name:"sent",icon:je,color:"inherit"},{id:4,name:"draft",icon:fe,color:"inherit"},{id:4,name:"spam",icon:ge,color:"inherit"},{id:5,name:"trash",icon:B,color:"inherit"},{id:6,divider:!0},{id:1,filterbyTitle:"Sort By"},{id:7,name:"starred",icon:P,color:"inherit"},{id:8,name:"important",icon:A,color:"inherit"},{id:9,divider:!0},{id:13,filterbyTitle:"Labels"},{id:10,name:"Promotional",icon:I,color:"primary.main"},{id:11,name:"Social",icon:I,color:"error.main"},{id:12,name:"Health",icon:I,color:"success.main"}];return e.jsxs(e.Fragment,{children:[e.jsx(a,{children:e.jsx(Me,{})}),e.jsx(re,{children:e.jsx(ee,{sx:{height:{lg:"calc(100vh - 100px)",md:"100vh"},maxHeight:"800px"},children:p.map(t=>t.filterbyTitle?e.jsx(m,{variant:"subtitle2",p:3,pb:1,pl:5.5,fontWeight:600,children:t.filterbyTitle},t.id):t.divider?e.jsx(y,{},t.id):e.jsxs(q,{sx:{mb:1,px:"20px",mx:3,borderRadius:o},selected:r===`${t.name}`,onClick:()=>n(me(`${t.name}`)),children:[e.jsx(X,{sx:{minWidth:"30px",color:t.color},children:e.jsx(t.icon,{stroke:"1.5",size:19})}),e.jsx(Y,{sx:{textTransform:"capitalize"},children:t.name})]},`${t.id}${t.name}`))})})]})},$e=({onClick:r})=>{const s=u(n=>n.emailReducer.emailSearch),o=S();return e.jsxs(a,{display:"flex",sx:{p:2},children:[e.jsx(Te,{onClick:r,color:"primary",size:"small",sx:{mr:1,flexShrink:"0",display:{xs:"block",lineHeight:"10px",lg:"none"}},children:e.jsx(Ce,{width:"16"})}),e.jsx(Ee,{id:"outlined-basic",InputProps:{endAdornment:e.jsx(De,{position:"end",children:e.jsx(be,{size:"16"})})},fullWidth:!0,size:"small",value:s,placeholder:"Search emails",variant:"outlined",onChange:n=>o(pe(n.target.value))})]})},N=()=>{var f,C,b;const r=u(d=>d.emailReducer.emails[d.emailReducer.emailContent-1]),[s,o]=x.useState(!1),[n,p]=x.useState(""),t=()=>{o(!s)},c=S(),l=J(),i=l.palette.warning.main,j=l.palette.error.light;return r&&!r.trash?e.jsxs(a,{children:[e.jsxs(g,{p:2,gap:0,direction:"row",children:[e.jsx(E,{title:r.starred?"Unstar":"Star",children:e.jsx(T,{onClick:()=>c(V(r.id)),children:e.jsx(P,{stroke:1.3,size:"18",style:{fill:r.starred?i:"",stroke:r.starred?i:""}})})}),e.jsx(E,{title:r?"Important":"Not Important",children:e.jsx(T,{onClick:()=>c(_(r.id)),children:e.jsx(A,{size:"18",stroke:1.3,style:{fill:r.important?j:""}})})}),e.jsx(E,{title:"Delete",children:e.jsx(T,{onClick:()=>c(Q(r.id)),children:e.jsx(B,{size:"18",stroke:1.3})})})]}),e.jsx(y,{}),e.jsxs(a,{p:3,children:[e.jsxs(a,{display:"flex",alignItems:"center",sx:{pb:3},children:[e.jsx(D,{alt:r.from,src:r.thumbnail}),e.jsxs(a,{sx:{ml:2},children:[e.jsx(m,{variant:"h6",children:r.from}),e.jsx(m,{variant:"body2",children:r.To})]}),e.jsx(Z,{label:r.label,sx:{ml:"auto",height:"21px"},size:"small",color:r.label==="Promotional"?"primary":r.label==="Social"?"error":"success"})]}),e.jsx(a,{sx:{py:2},children:e.jsx(m,{variant:"h4",children:r.subject})}),e.jsx(a,{sx:{py:2},children:e.jsx("div",{dangerouslySetInnerHTML:{__html:r.emailContent}})})]}),((f=r==null?void 0:r.attchments)==null?void 0:f.length)===0?null:e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsxs(a,{p:3,children:[e.jsxs(m,{variant:"h6",children:["Attachments (",(C=r==null?void 0:r.attchments)==null?void 0:C.length,")"]}),e.jsx(U,{container:!0,spacing:3,children:(b=r.attchments)==null?void 0:b.map(d=>e.jsx(U,{item:!0,lg:4,children:e.jsxs(g,{direction:"row",gap:2,mt:2,children:[e.jsx(D,{variant:"rounded",sx:{width:"48px",height:"48px",bgcolor:w=>w.palette.grey[100]},children:e.jsx(D,{src:d.image,alt:"av",variant:"rounded",sx:{width:"24px",height:"24px"}})}),e.jsxs(a,{mr:"auto",children:[e.jsx(m,{variant:"subtitle2",fontWeight:600,mb:1,children:d.title}),e.jsx(m,{variant:"body2",children:d.fileSize})]})]})},d.id))})]}),e.jsx(y,{})]}),e.jsxs(a,{p:3,children:[e.jsxs(g,{direction:"row",gap:2,children:[e.jsx(h,{variant:"outlined",size:"small",color:"primary",onClick:t,children:"Reply"}),e.jsx(h,{variant:"outlined",size:"small",children:"Forward"})]}),s?e.jsx(a,{mt:3,children:e.jsx(we,{variant:"outlined",children:e.jsx(We,{value:n,onChange:d=>{p(d)},placeholder:"Type here..."})})}):null]})]}):e.jsx(a,{p:3,height:"50vh",display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(a,{children:[e.jsx(m,{variant:"h4",children:"Please Select a Mail"}),e.jsx("br",{}),e.jsx("img",{src:L,alt:L,width:"250px"})]})})},R=240,F=320,at=()=>{const[r,s]=x.useState(!1),[o,n]=x.useState(!1),p=K(c=>c.breakpoints.up("lg")),t=K(c=>c.breakpoints.up("md"));return e.jsxs(Re,{title:"Email App",description:"this is email page",children:[e.jsx(he,{title:"Email app",subtitle:"Look at Inbox",children:e.jsx(a,{children:e.jsx("img",{src:L,alt:L,width:"165px"})})}),e.jsxs(Fe,{children:[e.jsx(W,{open:r,onClose:()=>s(!1),sx:{width:R,"& .MuiDrawer-paper":{width:R,position:"relative",zIndex:2},flexShrink:0},variant:p?"permanent":"temporary",children:e.jsx(He,{})}),e.jsxs(a,{sx:{minWidth:F,width:{xs:"100%",md:F,lg:F},flexShrink:0},children:[e.jsx($e,{onClick:()=>s(!0)}),e.jsx(Ae,{showrightSidebar:()=>n(!0)})]}),t?e.jsx(W,{anchor:"right",variant:"permanent",sx:{zIndex:0,width:"200px",flex:"1 1 auto","& .MuiDrawer-paper":{position:"relative"}},children:e.jsx(a,{children:e.jsx(N,{})})}):e.jsx(W,{anchor:"right",open:o,onClose:()=>n(!1),sx:{width:R,flexShrink:0,"& .MuiDrawer-paper":{width:"85%"}},variant:"temporary",children:e.jsxs(a,{children:[e.jsx(a,{pl:3,pt:3,children:e.jsxs(h,{variant:"outlined",color:"primary",size:"small",onClick:()=>n(!1),sx:{display:{xs:"block",md:"none",lg:"none"}},children:[" ","Back"," "]})}),e.jsx(N,{})]})})]})]})};export{at as default};
