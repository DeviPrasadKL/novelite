import{r as b,u as fe,v as J,_ as g,j as e,P as D,e as $e,V as Me}from"./index-2a4889a1.js";import{r as A,i as N}from"./createSvgIcon-eb37b36d.js";import"./ParentCard-ca01c038.js";import{S as ke}from"./Stack-c08b3c4d.js";import{B as _}from"./Box-dab06ac1.js";import{g as Pe,f as je,s as I,h as M,a as Ce,T as u}from"./Typography-9ad2347d.js";import{S as Re,c as Ae,F as Ne,I as De}from"./Select-50860879.js";import{M as Ie}from"./MenuItem-32696ca8.js";import{P as Fe}from"./Paper-43d8a966.js";import{f as ze,L as ae,F as ne,d as h,T as Ke,a as qe,b as Ue,c as F,e as He}from"./TableRow-05939f7a.js";import{C as Oe}from"./Chip-329154b9.js";import{L as Ee}from"./Link-8b49f837.js";import{c as ye,u as we,G as $}from"./Grid-865287b0.js";import{I as w}from"./IconButton-49425f08.js";import{T as Ge}from"./Toolbar-9288f39b.js";import{u as re}from"./useControlled-272d4521.js";import{i as Ve}from"./useSlotProps-bf0108ad.js";import{P as We}from"./PageContainer-84a931e9.js";import{B as Je}from"./Breadcrumb-f59f9361.js";import"./Card-4081bccc.js";import"./CardHeader-20fdb637.js";import"./Divider-970fe638.js";import"./CardContent-7066f862.js";import"./createStack-513076ca.js";import"./styled-3182547d.js";import"./Modal-a4f036fa.js";import"./index.esm-c5c4bea7.js";function Qe(t){return Pe("MuiTableFooter",t)}je("MuiTableFooter",["root"]);const Xe=["className","component"],Ye=t=>{const{classes:o}=t;return Ce({root:["root"]},Qe,o)},Ze=I("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(t,o)=>o.root})({display:"table-footer-group"}),et={variant:"footer"},ie="tfoot",tt=b.forwardRef(function(o,c){const a=fe({props:o,name:"MuiTableFooter"}),{className:p,component:i=ie}=a,x=J(a,Xe),l=g({},a,{component:i}),n=Ye(l);return e.jsx(ze.Provider,{value:et,children:e.jsx(Ze,g({as:i,className:M(n.root,p),ref:c,role:i===ie?null:"rowgroup",ownerState:l},x))})}),ot=tt,le=ye(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),ce=ye(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var de,ue,pe,he,ge,xe,me,be;const st=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slotProps"],at=b.forwardRef(function(o,c){var a,p,i,x;const{backIconButtonProps:l,count:n,disabled:m=!1,getItemAriaLabel:r,nextIconButtonProps:T,onPageChange:y,page:d,rowsPerPage:s,showFirstButton:L,showLastButton:K,slotProps:j}=o,S=J(o,st),f=we(),B=v=>{y(v,0)},q=v=>{y(v,d-1)},U=v=>{y(v,d+1)},H=v=>{y(v,Math.max(0,Math.ceil(n/s)-1))};return e.jsxs("div",g({ref:c},S,{children:[L&&e.jsx(w,g({onClick:B,disabled:m||d===0,"aria-label":r("first",d),title:r("first",d)},(a=j==null?void 0:j.firstButton)!=null?a:{},{children:f.direction==="rtl"?de||(de=e.jsx(ae,{})):ue||(ue=e.jsx(ne,{}))})),e.jsx(w,g({onClick:q,disabled:m||d===0,color:"inherit","aria-label":r("previous",d),title:r("previous",d)},(p=j==null?void 0:j.previousButton)!=null?p:l,{children:f.direction==="rtl"?pe||(pe=e.jsx(ce,{})):he||(he=e.jsx(le,{}))})),e.jsx(w,g({onClick:U,disabled:m||(n!==-1?d>=Math.ceil(n/s)-1:!1),color:"inherit","aria-label":r("next",d),title:r("next",d)},(i=j==null?void 0:j.nextButton)!=null?i:T,{children:f.direction==="rtl"?ge||(ge=e.jsx(le,{})):xe||(xe=e.jsx(ce,{}))})),K&&e.jsx(w,g({onClick:H,disabled:m||d>=Math.ceil(n/s)-1,"aria-label":r("last",d),title:r("last",d)},(x=j==null?void 0:j.lastButton)!=null?x:{},{children:f.direction==="rtl"?me||(me=e.jsx(ne,{})):be||(be=e.jsx(ae,{}))}))]}))}),nt=at;function rt(t){return Pe("MuiTablePagination",t)}const it=je("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),k=it;var ve;const lt=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps"],ct=I(h,{name:"MuiTablePagination",slot:"Root",overridesResolver:(t,o)=>o.root})(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}})),dt=I(Ge,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,o)=>g({[`& .${k.actions}`]:o.actions},o.toolbar)})(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${k.actions}`]:{flexShrink:0,marginLeft:20}})),ut=I("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(t,o)=>o.spacer})({flex:"1 1 100%"}),pt=I("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(t,o)=>o.selectLabel})(({theme:t})=>g({},t.typography.body2,{flexShrink:0})),ht=I(Re,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,o)=>g({[`& .${k.selectIcon}`]:o.selectIcon,[`& .${k.select}`]:o.select},o.input,o.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${k.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),gt=I(Ie,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(t,o)=>o.menuItem})({}),xt=I("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(t,o)=>o.displayedRows})(({theme:t})=>g({},t.typography.body2,{flexShrink:0}));function mt({from:t,to:o,count:c}){return`${t}â€“${o} of ${c!==-1?c:`more than ${o}`}`}function bt(t){return`Go to ${t} page`}const vt=t=>{const{classes:o}=t;return Ce({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},rt,o)},ft=b.forwardRef(function(o,c){var a;const p=fe({props:o,name:"MuiTablePagination"}),{ActionsComponent:i=nt,backIconButtonProps:x,className:l,colSpan:n,component:m=h,count:r,disabled:T=!1,getItemAriaLabel:y=bt,labelDisplayedRows:d=mt,labelRowsPerPage:s="Rows per page:",nextIconButtonProps:L,onPageChange:K,onRowsPerPageChange:j,page:S,rowsPerPage:f,rowsPerPageOptions:B=[10,25,50,100],SelectProps:q={},showFirstButton:U=!1,showLastButton:H=!1,slotProps:v}=p,_e=J(p,lt),O=p,P=vt(O),C=(a=v==null?void 0:v.select)!=null?a:q,te=C.native?"option":gt;let oe;(m===h||m==="td")&&(oe=n||1e3);const Te=re(C.id),se=re(C.labelId),Be=()=>r===-1?(S+1)*f:f===-1?r:Math.min(r,(S+1)*f);return e.jsx(ct,g({colSpan:oe,ref:c,as:m,ownerState:O,className:M(P.root,l)},_e,{children:e.jsxs(dt,{className:P.toolbar,children:[e.jsx(ut,{className:P.spacer}),B.length>1&&e.jsx(pt,{className:P.selectLabel,id:se,children:s}),B.length>1&&e.jsx(ht,g({variant:"standard"},!C.variant&&{input:ve||(ve=e.jsx(Ae,{}))},{value:f,onChange:j,id:Te,labelId:se},C,{classes:g({},C.classes,{root:M(P.input,P.selectRoot,(C.classes||{}).root),select:M(P.select,(C.classes||{}).select),icon:M(P.selectIcon,(C.classes||{}).icon)}),disabled:T,children:B.map(R=>b.createElement(te,g({},!Ve(te)&&{ownerState:O},{className:P.menuItem,key:R.label?R.label:R,value:R.value?R.value:R}),R.label?R.label:R))})),e.jsx(xt,{className:P.displayedRows,children:d({from:r===0?0:S*f+1,to:Be(),count:r===-1?-1:r,page:S})}),e.jsx(i,{className:P.actions,backIconButtonProps:x,count:r,nextIconButtonProps:L,onPageChange:K,page:S,rowsPerPage:f,showFirstButton:U,showLastButton:H,slotProps:v==null?void 0:v.actions,getItemAriaLabel:y,disabled:T})]})}))}),Pt=ft;var Q={},jt=N;Object.defineProperty(Q,"__esModule",{value:!0});var E=Q.default=void 0,Ct=jt(A()),Rt=e;E=Q.default=(0,Ct.default)((0,Rt.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var X={},It=N;Object.defineProperty(X,"__esModule",{value:!0});var G=X.default=void 0,yt=It(A()),wt=e;G=X.default=(0,yt.default)((0,wt.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var Y={},Lt=N;Object.defineProperty(Y,"__esModule",{value:!0});var V=Y.default=void 0,St=Lt(A()),_t=e;V=Y.default=(0,St.default)((0,_t.jsx)("path",{d:"M18.41 16.59 13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");var Z={},Tt=N;Object.defineProperty(Z,"__esModule",{value:!0});var W=Z.default=void 0,Bt=Tt(A()),$t=e;W=Z.default=(0,Bt.default)((0,$t.jsx)("path",{d:"M5.59 7.41 10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");var ee={},Mt=N;Object.defineProperty(ee,"__esModule",{value:!0});var Le=ee.default=void 0,kt=Mt(A()),At=e;Le=ee.default=(0,kt.default)((0,At.jsx)("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5z"}),"FileDownloadOutlined");function Se(t){const o=we(),{count:c,page:a,rowsPerPage:p,onPageChange:i}=t,x=r=>{i(r,0)},l=r=>{i(r,a-1)},n=r=>{i(r,a+1)},m=r=>{i(r,Math.max(0,Math.ceil(c/p)-1))};return e.jsxs(_,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(w,{onClick:x,disabled:a===0,"aria-label":"first page",children:o.direction==="rtl"?e.jsx(W,{}):e.jsx(V,{})}),e.jsx(w,{onClick:l,disabled:a===0,"aria-label":"previous page",children:o.direction==="rtl"?e.jsx(G,{}):e.jsx(E,{})}),e.jsx(w,{onClick:n,disabled:a>=Math.ceil(c/p)-1,"aria-label":"next page",children:o.direction==="rtl"?e.jsx(E,{}):e.jsx(G,{})}),e.jsx(w,{onClick:m,disabled:a>=Math.ceil(c/p)-1,"aria-label":"last page",children:o.direction==="rtl"?e.jsx(V,{}):e.jsx(W,{})})]})}Se.propTypes={count:D.number.isRequired,onPageChange:D.func.isRequired,page:D.number.isRequired,rowsPerPage:D.number.isRequired};function Nt({data:t,statusFilter:o,setStatusFilter:c}){var d;const[a,p]=b.useState(0),[i,x]=b.useState(5),[l,n]=b.useState(t);b.useEffect(()=>{n(o==="Pending"?t==null?void 0:t.filter(s=>s.status==="Overdue"||s.status==="Unpaid"||s.status==="Partly Paid"||s.status==="Unpaid and Discounted"||s.status==="Overdue and Discounted"||s.status==="Partly Paid and Discounted"):o==="Paid"?t==null?void 0:t.filter(s=>s.status==="Paid"||s.status==="Credit Note Issued"):o==="Credit Note"?t==null?void 0:t.filter(s=>s.status==="Return"):t)},[o]);const m=a>0?Math.max(0,(1+a)*i-(l==null?void 0:l.length)):0,r=(s,L)=>{p(L)},T=s=>{x(parseInt(s.target.value,10)),p(0)};let y=["ALL","Pending","Paid","Credit Note"];return e.jsxs(ke,{children:[e.jsxs(_,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(_,{children:e.jsx(u,{children:"Invoice List"})}),e.jsx(_,{sx:{mb:2},children:e.jsxs(Ne,{sx:{m:1,minWidth:140},children:[e.jsx(De,{id:"demo-simple-select-autowidth-label",children:"Status"}),e.jsx(Re,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:o,label:"Status",onChange:s=>c(s.target.value),children:y.map((s,L)=>e.jsx(Ie,{value:s,children:s},s+L))})]})})]}),e.jsx(Fe,{variant:"outlined",children:e.jsx(Ke,{children:e.jsxs(qe,{"aria-label":"custom sales invoice",sx:{whiteSpace:"nowrap"},children:[e.jsx(Ue,{children:e.jsxs(F,{children:[e.jsx(h,{children:e.jsx(u,{variant:"h6",children:"Invoice No."})}),e.jsx(h,{children:e.jsx(u,{variant:"h6",children:"Invoice Amount"})}),e.jsx(h,{children:e.jsx(u,{variant:"h6",children:"Due Date"})}),e.jsx(h,{children:e.jsx(u,{variant:"h6",children:"Location"})}),e.jsx(h,{children:e.jsx(u,{variant:"h6",children:"Status"})}),e.jsx(h,{children:e.jsx(u,{variant:"h6",children:"Download"})})]})}),e.jsxs(He,{children:[(d=i>0?l==null?void 0:l.slice(a*i,a*i+i):l)==null?void 0:d.map(s=>e.jsxs(F,{children:[e.jsx(h,{children:e.jsx(u,{variant:"h6",children:s.name})}),e.jsx(h,{children:e.jsxs(u,{color:"textSecondary",variant:"h6",fontWeight:"400",children:["â‚¹ ",s.rounded_total]})}),e.jsx(h,{children:e.jsx(u,{variant:"h6",children:s.due_date})}),e.jsx(h,{children:e.jsx(u,{color:"textSecondary",variant:"h6",fontWeight:"400",children:s.location===null?"----":s.location})}),e.jsx(h,{children:e.jsx(Oe,{color:o==="Paid"?"success":o==="Credit Note"?"error":o==="Pending"?"primary":"secondary",sx:{borderRadius:"6px"},size:"small",label:o==="All"?s.status==="Credit Note Issued"?"Paid":s.status==="Return"?"Credit Note":s.status:o})}),e.jsx(h,{children:e.jsx(_,{color:"secondary",marginLeft:"1.5rem",component:Ee,target:"_blank",href:`http://${window.location.hostname}/api/method/frappe.utils.print_format.download_pdf?doctype=Sales Invoice&name=${s.name}&format=Business Center&no_letterhead=1&letterhead=No Letterhead &settings={}&_lang=en-US`,children:e.jsx(Le,{})})})]},s.name)),m>0&&e.jsx(F,{style:{height:53*m},children:e.jsx(h,{colSpan:6})})]}),e.jsx(ot,{children:e.jsx(F,{children:e.jsx(Pt,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:l==null?void 0:l.length,rowsPerPage:i,page:a,SelectProps:{inputprops:{"aria-label":"rows per page"},native:!0},onPageChange:r,onRowsPerPageChange:T,ActionsComponent:Se})})})]})})})]})}const z=I(_)(()=>({padding:"30px",transition:"0.1s ease-in",cursor:"pointer",color:"inherit","&:hover":{transform:"scale(1.03)"}})),Dt=({data:t,setStatusFilter:o})=>{const[c,a]=b.useState([]),[p,i]=b.useState([]),[x,l]=b.useState([]);return b.useEffect(()=>{a(t==null?void 0:t.filter(n=>n.status==="Overdue"||n.status==="Unpaid"||n.status==="Partly Paid"||n.status==="Unpaid and Discounted"||n.status==="Overdue and Discounted"||n.status==="Partly Paid and Discounted")),i(t==null?void 0:t.filter(n=>n.status==="Paid"||n.status==="Credit Note Issued")),l(t==null?void 0:t.filter(n=>n.status==="Return"))},[]),e.jsx(_,{mb:2,children:e.jsxs($,{container:!0,spacing:3,textAlign:"center",children:[e.jsx($,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(z,{onClick:()=>o("ALL"),sx:{backgroundColor:"primary.light",color:"primary.main"},children:[e.jsx(u,{variant:"h3",children:t.length}),e.jsx(u,{variant:"h6",children:"ALL"})]})}),e.jsx($,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(z,{onClick:()=>o("Pending"),sx:{backgroundColor:"warning.light",color:"warning.main"},children:[e.jsx(u,{variant:"h3",children:c.length}),e.jsx(u,{variant:"h6",children:"Pending"})]})}),e.jsx($,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(z,{onClick:()=>o("Paid"),sx:{backgroundColor:"success.light",color:"success.main"},children:[e.jsx(u,{variant:"h3",children:p.length}),e.jsx(u,{variant:"h6",children:"Paid"})]})}),e.jsx($,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(z,{onClick:()=>o("Credit Note"),sx:{backgroundColor:"error.light",color:"error.main"},children:[e.jsx(u,{variant:"h3",children:x.length}),e.jsx(u,{variant:"h6",children:"Credit Note"})]})})]})})},Ft=[{to:"/dashboard",title:"Home"},{title:"Sales Invoice"}],ho=()=>{const t=$e(l=>l.novelprofileReducer.companyName),[o,c]=b.useState("ALL"),{data:a,error:p,isValidating:i,mutate:x}=Me("Sales Invoice",{fields:["name","status","due_date","rounded_total","location"],filters:[["customer","=",t]],limit_start:0,limit:1e5,orderBy:{field:"creation",order:"desc"}});return e.jsxs(We,{title:"Sales Invoice - Novel Office",description:"this is Sales Invoice page",children:[e.jsx(Je,{title:"Sales Invoice",items:Ft}),a&&e.jsx(Dt,{data:a,statusFilter:o,setStatusFilter:c}),a&&e.jsx(Nt,{data:a,statusFilter:o,setStatusFilter:c})]})};export{ho as default};
