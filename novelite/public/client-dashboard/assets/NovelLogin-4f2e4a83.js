var B=Object.defineProperty,V=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var _=(s,t,i)=>t in s?B(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,h=(s,t)=>{for(var i in t||(t={}))A.call(t,i)&&_(s,i,t[i]);if(S)for(var i of S(t))H.call(t,i)&&_(s,i,t[i]);return s},f=(s,t)=>V(s,J(t));import{j as e,u as Q,q as K,r as c,bT as I,bU as z}from"./index-13b2bff4.js";import{P as X}from"./PageContainer-0258c4c8.js";import{C as m}from"./CustomFormLabel-c5b47383.js";import{C as u}from"./CustomTextField-26fcbdc9.js";import{L as Y}from"./Logo-4efd2eaa.js";import{k as Z,Q as g}from"./ReactToastify-c143d4df.js";import{r as k,i as U}from"./createSvgIcon-381bf0c7.js";import{j as ee,T as te}from"./Typography-2722ac00.js";import{G as P}from"./Grid-f990bc7a.js";import{C as re}from"./Card-bde34c0f.js";import{S as E}from"./Stack-1aaa539a.js";import{B as O}from"./Button-159ac729.js";import{u as se}from"./useDispatch-e11921ae.js";import"./TextField-1c7a4276.js";import"./FormControl-71561ca3.js";import"./utils-5ebfb48b.js";import"./useFormControl-bb2e0acf.js";import"./isMuiElement-cf6fc2ce.js";import"./useId-4a21d19c.js";import"./formControlState-02eb4045.js";import"./Select-3ccb05a3.js";import"./Popover-ce0ba756.js";import"./Modal-9368daf6.js";import"./Fade-aaf26eb0.js";import"./utils-27ef01bd.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-698471fc.js";import"./createChainedFunction-0bab83cf.js";import"./Portal-d5ab7e05.js";import"./Grow-d7e4a107.js";import"./List-71d6cd57.js";import"./ListContext-087d0919.js";import"./useControlled-c7b471c2.js";import"./InputBase-791b435a.js";import"./clsx.m-1229b3e0.js";import"./createStack-c886c890.js";import"./styled-45dff6f6.js";const ie=ee(),a=ie;var x={},ae=U;Object.defineProperty(x,"__esModule",{value:!0});var W=x.default=void 0,oe=ae(k()),ne=e,le=(0,oe.default)((0,ne.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");W=x.default=le;var j={},me=U;Object.defineProperty(j,"__esModule",{value:!0});var D=j.default=void 0,ue=me(k()),de=e,ce=(0,ue.default)((0,de.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");D=j.default=ce;function it(){const s=Q(),t=se(),{currentUser:i,isValidating:pe,isLoading:he,login:F,logout:fe,error:ge,updateCurrentUser:xe,getUserCookie:je}=K(),[G,ve]=c.useState(!1),[v,C]=c.useState(!1),[y,M]=c.useState({userEmail:"",password:""}),[b,R]=c.useState({userName:"",email:"",phoneNumber:""}),L=r=>g.success(r,{toastId:"success"}),T=r=>g.error(r,{toastId:"error"}),d=r=>g.warn(r,{toastId:"warn"}),N=r=>{const n=r.target.id,l=r.target.value.trim();M(f(h({},y),{[n]:l}))},$=r=>{r.preventDefault();const{userEmail:n,password:l}=y;n!==""&&l!==""?F(n,l).then(o=>{L("Logged in sucessfully"),t(I(o.full_name)),console.log("Login User Name = ",o.full_name),t(z(n)),console.log("inside then "+JSON.stringify(o)),setTimeout(()=>{s("/dashboard")},1500)}).catch(o=>{console.log("inside catch "+JSON.stringify(o.message)),T(o.message)}):d("Please fill all the details")},p=r=>{const n=r.target.id,l=r.target.value.trim();R(f(h({},b),{[n]:l}))},q=()=>{var r="^[0-9]+$";const{userName:n,email:l,phoneNumber:o}=b;if(n!==""&&l!==""&&o!=="")if(o.length!==10)d("Phone Number must contain 10 numbers");else if(!o.match(r))d("Please enter a valid phone number");else{let w={name:"Guest",email:"guest@mail.com"};t(I(w.name)),t(z(w.email)),L("Logging in as Guest"),setTimeout(()=>{s("/dashboard")},1500)}else d("Please fill all the details")};return e.jsx(X,{title:"Login - Novel Office",description:"this is Login page",children:e.jsxs(a,{sx:{position:"relative","&:before":{content:'""',background:"radial-gradient(#d2f1df, #d3d7fa, #bad8f4)",backgroundSize:"400% 400%",animation:"gradient 15s ease infinite",position:"absolute",height:"100%",width:"100%",opacity:"0.3"}},children:[e.jsx(P,{container:!0,spacing:0,justifyContent:"center",sx:{height:"100vh"},children:e.jsx(P,{item:!0,xs:12,sm:12,lg:5,xl:4,display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(re,{elevation:24,sx:{p:4,zIndex:1,width:"100%",maxWidth:{xs:"350px",md:"350px",lg:"450px"}},children:[e.jsx(a,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(Y,{})}),e.jsxs(e.Fragment,{children:[e.jsx(te,{fontWeight:"700",variant:"h3",mb:1}),G?e.jsxs(a,{children:[e.jsxs(E,{children:[e.jsxs(a,{children:[e.jsx(m,{htmlFor:"userName",children:"Name"}),e.jsx(u,{id:"userName",variant:"outlined",fullWidth:!0,autoComplete:"userName",onChange:p})]}),e.jsxs(a,{children:[e.jsx(m,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",type:"email",variant:"outlined",fullWidth:!0,autoComplete:"email",onChange:p})]}),e.jsxs(a,{children:[e.jsx(m,{htmlFor:"phoneNumber",children:"Phone number"}),e.jsx(u,{id:"phoneNumber",type:"text",variant:"outlined",fullWidth:!0,autoComplete:"current-phoneNumber",onChange:p})]})]}),e.jsx(a,{mt:3,children:e.jsx(O,{color:"primary",variant:"contained",size:"large",fullWidth:!0,onClick:q,type:"submit",children:"Sign In As Guest"})})]}):e.jsxs("form",{children:[e.jsxs(E,{children:[e.jsxs(a,{children:[e.jsx(m,{htmlFor:"userEmail",children:"Email"}),e.jsx(u,{id:"userEmail",variant:"outlined",autoComplete:"userEmail",fullWidth:!0,onChange:N})]}),e.jsxs(a,{children:[e.jsx(m,{htmlFor:"password",children:"Password"}),e.jsxs(a,{display:"flex",alignItems:"center",justifyContent:"center",children:[e.jsx(u,{id:"password",type:v?"text":"password",variant:"outlined",fullWidth:!0,autoComplete:"current-password",onChange:N,style:{marginLeft:"-0.3rem",marginRight:"0.1rem"}}),v?e.jsx(D,{style:{marginLeft:"-30px",cursor:"pointer",zIndex:"1"},onClick:()=>C(!1)}):e.jsx(W,{style:{marginLeft:"-30px",cursor:"pointer",zIndex:"1"},onClick:()=>C(!0)})]})]})]}),e.jsx(a,{mt:3,children:e.jsx(O,{color:"primary",variant:"contained",size:"large",fullWidth:!0,onClick:$,type:"submit",children:"Sign In"})})]})]})]})})}),e.jsx(Z,{position:"top-center",autoClose:1e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})}export{it as default};
