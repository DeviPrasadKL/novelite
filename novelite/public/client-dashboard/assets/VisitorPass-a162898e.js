import{e as g,j as e,S as x,r as T,U as C,W as b,X as k}from"./index-85be31c7.js";import{B as v}from"./Breadcrumb-ace335c9.js";import{P as S}from"./PageContainer-c7f3623e.js";import{d as w}from"./WarningAmberOutlined-139fbe05.js";import{B as h}from"./Box-b16eb2c3.js";import{G as d}from"./Grid-37db235f.js";import{s as P,T as t}from"./Typography-080e93f2.js";import{u as f}from"./useDispatch-def66b15.js";import{z as y}from"./index.esm-d4445909.js";import{T as B}from"./TextField-a09933b0.js";import{T as W,a as I,b as L,c as j,d as n,e as R}from"./TableRow-7b78a8d2.js";import{S as A}from"./Stack-f137fa1b.js";import{A as D}from"./Avatar-8e3d2a3a.js";import{C as O}from"./Chip-744cc2fd.js";import{T as V}from"./Tooltip-1e6b56b3.js";import{I as z}from"./IconButton-17cd79e6.js";import{P as F}from"./Pagination-cbf8ef60.js";import{B as u}from"./Box-0292b75a.js";import{S as $}from"./Stack-e4b9ef18.js";import"./useSlotProps-4e75a496.js";import"./Link-2ca6b9cb.js";import"./createSvgIcon-4f2e1fd4.js";import"./useControlled-5bb948a4.js";import"./Select-7830f08f.js";import"./Modal-5b74a126.js";import"./Paper-dee2bc62.js";import"./createStack-b75d18eb.js";import"./styled-224b1b3e.js";import"./index-2f597789.js";import"./useSlot-73a71771.js";const m=P(h)(()=>({padding:"30px",transition:"0.1s ease-in",cursor:"pointer",color:"inherit","&:hover":{transform:"scale(1.03)"}})),E=()=>{const l=f(),c=g(s=>s.ticketReducer.tickets),p=c.filter(s=>s.Status==="Pending").length,r=c.filter(s=>s.Status==="Open").length,o=c.filter(s=>s.Status==="Closed").length;return e.jsxs(d,{container:!0,spacing:3,textAlign:"center",children:[e.jsx(d,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(m,{onClick:()=>l(x("total_tickets")),sx:{backgroundColor:"primary.light",color:"primary.main"},children:[e.jsx(t,{variant:"h3",children:c.length}),e.jsx(t,{variant:"h6",children:"Total Tickets"})]})}),e.jsx(d,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(m,{onClick:()=>l(x("Pending")),sx:{backgroundColor:"warning.light",color:"warning.main"},children:[e.jsx(t,{variant:"h3",children:p}),e.jsx(t,{variant:"h6",children:"Pending Tickets"})]})}),e.jsx(d,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(m,{onClick:()=>l(x("Open")),sx:{backgroundColor:"success.light",color:"success.main"},children:[e.jsx(t,{variant:"h3",children:r}),e.jsx(t,{variant:"h6",children:"Open Tickets"})]})}),e.jsx(d,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(m,{onClick:()=>l(x("Closed")),sx:{backgroundColor:"error.light",color:"error.main"},children:[e.jsx(t,{variant:"h3",children:o}),e.jsx(t,{variant:"h6",children:"Closed Tickets"})]})})]})},_=E,G=()=>{const l=f();T.useEffect(()=>{l(C())},[l]);const c=(r,o,s)=>{if(r)switch(o){case"total_tickets":return r.filter(i=>{var a;return!i.deleted&&((a=i.ticketTitle)==null?void 0:a.toLocaleLowerCase().includes(s))});case"Pending":return r.filter(i=>{var a;return!i.deleted&&i.Status==="Pending"&&((a=i.ticketTitle)==null?void 0:a.toLocaleLowerCase().includes(s))});case"Closed":return r.filter(i=>{var a;return!i.deleted&&i.Status==="Closed"&&((a=i.ticketTitle)==null?void 0:a.toLocaleLowerCase().includes(s))});case"Open":return r.filter(i=>{var a;return!i.deleted&&i.Status==="Open"&&((a=i.ticketTitle)==null?void 0:a.toLocaleLowerCase().includes(s))});default:throw new Error(`Unknown filter: ${o}`)}},p=g(r=>c(r.ticketReducer.tickets,r.ticketReducer.currentFilter,r.ticketReducer.ticketSearch));return e.jsxs(h,{mt:4,children:[e.jsx(h,{sx:{maxWidth:"260px",ml:"auto"},mb:3,children:e.jsx(B,{size:"small",label:"Search",fullWidth:!0,onChange:r=>l(b(r.target.value))})}),e.jsx(W,{children:e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(j,{children:[e.jsx(n,{children:e.jsx(t,{variant:"h6",children:"Id"})}),e.jsx(n,{children:e.jsx(t,{variant:"h6",children:"Ticket"})}),e.jsx(n,{children:e.jsx(t,{variant:"h6",children:"Assigned To"})}),e.jsx(n,{children:e.jsx(t,{variant:"h6",children:"Status"})}),e.jsx(n,{children:e.jsx(t,{variant:"h6",children:"Date"})}),e.jsx(n,{align:"right",children:e.jsx(t,{variant:"h6",children:"Action"})})]})}),e.jsx(R,{children:p.map(r=>e.jsxs(j,{hover:!0,children:[e.jsx(n,{children:r.Id}),e.jsx(n,{children:e.jsxs(h,{children:[e.jsx(t,{variant:"h6",fontWeight:"500",noWrap:!0,children:r.ticketTitle}),e.jsx(t,{color:"textSecondary",noWrap:!0,sx:{maxWidth:"250px"},variant:"subtitle2",fontWeight:"400",children:r.ticketDescription})]})}),e.jsx(n,{children:e.jsxs(A,{direction:"row",gap:"10px",alignItems:"center",children:[e.jsx(D,{src:r.thumb,alt:r.thumb,width:"35",sx:{borderRadius:"100%"}}),e.jsx(t,{variant:"h6",children:r.AgentName})]})}),e.jsx(n,{children:e.jsx(O,{sx:{backgroundColor:r.Status==="Open"?o=>o.palette.success.light:r.Status==="Closed"?o=>o.palette.error.light:r.Status==="Pending"?o=>o.palette.warning.light:r.Status==="Moderate"},size:"small",label:r.Status})}),e.jsx(n,{children:e.jsx(t,{children:r.Date})}),e.jsx(n,{align:"right",children:e.jsx(V,{title:"Delete Ticket",children:e.jsx(z,{onClick:()=>l(k(r.Id)),children:e.jsx(y,{size:"18"})})})})]},r.Id))})]})}),e.jsx(h,{my:3,display:"flex",justifyContent:"center",children:e.jsx(F,{count:10,color:"primary"})})]})},H=G,N=[{to:"/dashboard",title:"Home"},{title:"Visitor parking pass"}];function be(){return e.jsxs(S,{title:"Visitor parking pass - Novel Office",description:"this is Sales Visitor parking pass page",children:[e.jsx(v,{title:"Visitor parking pass",items:N}),e.jsx(u,{bgcolor:"warning.light",textAlign:"center",mb:2,children:e.jsxs($,{justifyContent:"center",alignItems:"center",flexDirection:"row",children:[e.jsx(u,{color:"warning.main",children:e.jsx(w,{sx:{marginRight:"0.5rem",marginBottom:"-0.4rem"}})}),e.jsx(t,{color:"warning.main",m:1,variant:"h5",fontWeight:600,children:"These are the parking passes for visitors"})]})}),e.jsx(_,{}),e.jsx(H,{})]})}export{be as default};
