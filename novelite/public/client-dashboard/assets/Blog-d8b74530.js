import{P as G,R as k,r as v,j as e,L as u,an as j,ao as N,ap as _,e as T,l as C}from"./index-13b2bff4.js";import{B as O}from"./Breadcrumb-75a5706c.js";import{P as Z}from"./PageContainer-0258c4c8.js";import{O as R,u as z,l as L}from"./index.esm-c39cd960.js";import{B as P}from"./BlankCard-0536c853.js";import{G as f}from"./Grid-f990bc7a.js";import{S}from"./Skeleton-4256ae49.js";import{T as b,s as y}from"./Typography-2722ac00.js";import{C as H}from"./CardMedia-ea4b353f.js";import{C as E}from"./CardContent-adbb02da.js";import{S as o}from"./Stack-14666d12.js";import{T as M}from"./Tooltip-be2e7da6.js";import{A}from"./Avatar-baeef66d.js";import{C as B}from"./Chip-4711c59f.js";import{B as p}from"./Box-f55c110d.js";import{f as D}from"./index-034909fd.js";import{u as I}from"./useDispatch-e11921ae.js";import{P as J}from"./Pagination-205ee4a8.js";import"./Link-1c3c36a0.js";import"./Card-bde34c0f.js";import"./createStack-c886c890.js";import"./styled-45dff6f6.js";import"./Popper-7759eb14.js";import"./ownerDocument-613eb639.js";import"./Portal-d5ab7e05.js";import"./createPopper-319e19c4.js";import"./useControlled-c7b471c2.js";import"./useId-4a21d19c.js";import"./Grow-d7e4a107.js";import"./utils-27ef01bd.js";import"./index-5a0c5ef2.js";import"./LastPage-1ae87d0d.js";const F=({post:i})=>{const s=I(),{coverImg:a,title:n,view:l,comments:t,category:r,author:g,createdAt:c}=i,m=n.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),[d,w]=k.useState(!0);return v.useEffect(()=>{const x=setTimeout(()=>{w(!1)},700);return()=>clearTimeout(x)},[]),e.jsx(f,{item:!0,xs:12,lg:4,md:4,sm:6,display:"flex",alignItems:"stretch",children:d?e.jsx(e.Fragment,{children:e.jsx(S,{animation:"wave",variant:"square",width:"100%",height:400,sx:{borderRadius:x=>x.shape.borderRadius/5}})}):e.jsxs(P,{className:"hoverCard",children:[e.jsx(b,{component:u,to:`/apps/blog/detail/${m}`,onClick:()=>s(j(m)),children:e.jsx(H,{component:"img",height:"240",image:a,alt:"green iguana"})}),e.jsxs(E,{children:[e.jsxs(o,{direction:"row",sx:{marginTop:"-45px"},children:[e.jsx(M,{title:g.name,placement:"top",children:e.jsx(A,{"aria-label":"recipe",src:g.avatar})}),e.jsx(B,{sx:{marginLeft:"auto",marginTop:"-21px",backgroundColor:"white"},label:"2 min Read",size:"small"})]}),e.jsx(B,{label:r,size:"small",sx:{marginTop:2}}),e.jsx(p,{my:3,children:e.jsx(b,{gutterBottom:!0,variant:"h5",color:"inherit",sx:{textDecoration:"none"},component:u,to:`/apps/blog/detail/${m}`,onClick:()=>s(j(m)),children:n})}),e.jsxs(o,{direction:"row",gap:3,alignItems:"center",children:[e.jsxs(o,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(R,{size:"18"})," ",l]}),e.jsxs(o,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(z,{size:"18"})," ",t.length]}),e.jsxs(o,{direction:"row",ml:"auto",alignItems:"center",children:[e.jsx(L,{size:"16"}),e.jsx("small",{children:D(new Date(c),"E, MMM d")})]})]})]})]})})};F.propTypes={post:G.object.isRequired};const K=y(E)({position:"absolute",top:"0",left:"0",zIndex:1,width:"100%",height:"100%",color:"white"}),Q=y(p)({top:0,content:"''",width:"100%",height:"100%",position:"absolute"}),U=({post:i,index:s})=>{const a=I(),{coverImg:n,title:l,view:t,comments:r,category:g,author:c,createdAt:m}=i,d=l.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),w=s===0,x=y(P)({p:0,height:"400px",position:"relative",background:`url(${n}) no-repeat center`,backgroundSize:"cover"}),[$,q]=k.useState(!0);return v.useEffect(()=>{const h=setTimeout(()=>{q(!1)},700);return()=>clearTimeout(h)},[]),e.jsx(e.Fragment,{children:i?e.jsx(f,{item:!0,xs:12,lg:w?8:4,md:12,sm:12,display:"flex",alignItems:"stretch",children:$?e.jsx(e.Fragment,{children:e.jsx(S,{variant:"square",animation:"wave",width:"100%",height:400,sx:{borderRadius:h=>h.shape.borderRadius/5}})}):e.jsxs(x,{className:"hoverCard",children:[e.jsx(b,{component:u,to:`/apps/blog/detail/${d}`,onClick:()=>a(j(d)),children:e.jsx(Q,{sx:{backgroundColor:h=>N(h.palette.grey[900],.6)}})}),e.jsx(K,{children:e.jsxs(p,{height:"100%",display:"flex",justifyContent:"space-between",flexDirection:"column",children:[e.jsx(p,{children:e.jsxs(o,{direction:"row",children:[e.jsx(M,{title:c.name,placement:"top",children:e.jsx(A,{"aria-label":"recipe",src:c.avatar})}),e.jsx(B,{sx:{marginLeft:"auto"},label:g,size:"small",color:"primary"})]})}),e.jsxs(p,{children:[e.jsx(p,{my:3,children:e.jsx(b,{gutterBottom:!0,variant:"h3",color:"inherit",sx:{textDecoration:"none"},component:u,to:`/apps/blog/detail/${d}`,onClick:()=>a(j(d)),children:l})}),e.jsxs(o,{direction:"row",gap:3,alignItems:"center",children:[e.jsxs(o,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(R,{size:"18"})," ",t]}),e.jsxs(o,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(z,{size:"18"})," ",r.length]}),e.jsxs(o,{direction:"row",ml:"auto",alignItems:"center",children:[e.jsx(L,{size:"16"}),e.jsx("small",{children:D(new Date(m),"E, MMM d")})]})]})]})]})})]})}):""})},V=()=>{const i=I();v.useEffect(()=>{i(_())},[i]);const s=(t,r,g)=>(r==="newest"&&(t=C.orderBy(t,["createdAt"],["desc"])),r==="oldest"&&(t=C.orderBy(t,["createdAt"],["asc"])),r==="popular"&&(t=C.orderBy(t,["view"],["desc"])),t&&(t=t.filter(c=>c.featured===!1))),a=t=>t=t.filter(r=>r.featured),n=T(t=>s(t.blogReducer.blogposts,t.blogReducer.sortBy,t.blogReducer.blogSearch)),l=T(t=>a(t.blogReducer.blogposts));return e.jsxs(f,{container:!0,spacing:3,children:[l.map((t,r)=>e.jsx(U,{index:r,post:t},t.title)),n.map(t=>e.jsx(F,{post:t},t.id)),e.jsx(f,{item:!0,lg:12,sm:12,mt:3,children:e.jsx(J,{count:10,color:"primary",sx:{display:"flex",justifyContent:"center"}})})]})},ze=()=>e.jsxs(Z,{title:"Blog",description:"this is Blog page",children:[e.jsx(O,{title:"Blog app",subtitle:"Get the latest news"}),e.jsx(V,{})]});export{ze as default};
