import{j as e,P as j,r as u,e as w,c2 as N}from"./index-4c0b60c1.js";import{P as L}from"./PageContainer-1e378f9f.js";import{B as F}from"./Breadcrumb-993a2ffd.js";import{T as M,d as S,a as y}from"./LastPage-1038b078.js";import{d as I,a as _}from"./KeyboardArrowRight-960fc2fb.js";import{r as q,i as A}from"./createSvgIcon-232aa521.js";import"./ParentCard-49b8acd5.js";import{S as D}from"./Stack-8a0c4542.js";import{B as h}from"./Box-62c7ea08.js";import{T as l}from"./Typography-d41e00bf.js";import{F as O}from"./FormControl-05733a9f.js";import{I as $}from"./InputLabel-60b08834.js";import{S as E}from"./Select-fa541a15.js";import{M as H}from"./MenuItem-9cba98ac.js";import{P as z,u as U}from"./Grid-858c8d28.js";import{T as V,a as W,b as G,c as f,d as a,e as J}from"./TableRow-6d6d2972.js";import{C as K}from"./Chip-f7c4e200.js";import{L as Q}from"./Link-600c6b92.js";import{T as X}from"./TablePagination-01bd2b9b.js";import{I as g}from"./IconButton-deace95f.js";import{u as Y}from"./useDispatch-cfa82895.js";import"./index.esm-ab86738a.js";import"./createChainedFunction-0bab83cf.js";import"./ownerWindow-698471fc.js";import"./ownerDocument-613eb639.js";import"./isMuiElement-06cc0e9d.js";import"./useId-ab6b636f.js";import"./useControlled-aa938a2a.js";import"./Card-93702703.js";import"./CardHeader-c9fcc5f5.js";import"./Divider-1c3d9281.js";import"./dividerClasses-4698ac49.js";import"./CardContent-3ef2c0f8.js";import"./createStack-f64ed9a6.js";import"./styled-f6e27ef3.js";import"./utils-5ebfb48b.js";import"./useFormControl-4a8d5a10.js";import"./formControlState-02eb4045.js";import"./Popover-78ca825b.js";import"./Modal-e69de70e.js";import"./Fade-11f6ebc6.js";import"./utils-7ef43b08.js";import"./Portal-a2e45162.js";import"./Grow-34c80021.js";import"./List-14aaf110.js";import"./ListContext-73043c56.js";import"./InputBase-e88cc6c4.js";import"./listItemIconClasses-9b443d96.js";import"./listItemTextClasses-35935c78.js";import"./KeyboardArrowRight-bec56d0a.js";import"./LastPage-c5cd4655.js";import"./Toolbar-ba1bb1ab.js";var b={},Z=A;Object.defineProperty(b,"__esModule",{value:!0});var T=b.default=void 0,ee=Z(q()),te=e,re=(0,ee.default)((0,te.jsx)("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}),"FileDownloadOutlined");T=b.default=re;function R(i){const o=U(),{count:d,page:r,rowsPerPage:m,onPageChange:s}=i,v=c=>{s(c,0)},n=c=>{s(c,r-1)},p=c=>{s(c,r+1)},x=c=>{s(c,Math.max(0,Math.ceil(d/m)-1))};return e.jsxs(h,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(g,{onClick:v,disabled:r===0,"aria-label":"first page",children:o.direction==="rtl"?e.jsx(S,{}):e.jsx(y,{})}),e.jsx(g,{onClick:n,disabled:r===0,"aria-label":"previous page",children:o.direction==="rtl"?e.jsx(I,{}):e.jsx(_,{})}),e.jsx(g,{onClick:p,disabled:r>=Math.ceil(d/m)-1,"aria-label":"next page",children:o.direction==="rtl"?e.jsx(_,{}):e.jsx(I,{})}),e.jsx(g,{onClick:x,disabled:r>=Math.ceil(d/m)-1,"aria-label":"last page",children:o.direction==="rtl"?e.jsx(y,{}):e.jsx(S,{})})]})}R.propTypes={count:j.number.isRequired,onPageChange:j.func.isRequired,page:j.number.isRequired,rowsPerPage:j.number.isRequired};function ie({data:i}){var C;const[o,d]=u.useState(0),[r,m]=u.useState("Pending"),[s,v]=u.useState(5),[n,p]=u.useState(i);u.useEffect(()=>{p(r==="Pending"?i==null?void 0:i.filter(t=>t.status==="Overdue"||t.status==="Unpaid"||t.status==="Partly Paid"||t.status==="Unpaid and Discounted"||t.status==="Overdue and Discounted"||t.status==="Partly Paid and Discounted"):r==="Paid"?i==null?void 0:i.filter(t=>t.status==="Paid"||t.status==="Credit Note Issued"):r==="Credit Note"?i==null?void 0:i.filter(t=>t.status==="Return"):i)},[r]);const x=o>0?Math.max(0,(1+o)*s-(n==null?void 0:n.length)):0,c=(t,P)=>{d(P)},B=t=>{v(parseInt(t.target.value,10)),d(0)};let k=["All","Pending","Paid","Credit Note"];return e.jsxs(D,{children:[e.jsxs(h,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(h,{children:e.jsx(l,{children:"Invoice List"})}),e.jsx(h,{sx:{mb:2},children:e.jsxs(O,{sx:{m:1,minWidth:140},children:[e.jsx($,{id:"demo-simple-select-autowidth-label",children:"Status"}),e.jsx(E,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:r,label:"Status",onChange:t=>m(t.target.value),children:k.map((t,P)=>e.jsx(H,{value:t,children:t},t+P))})]})})]}),e.jsx(z,{variant:"outlined",children:e.jsx(V,{children:e.jsxs(W,{"aria-label":"custom sales invoice",sx:{whiteSpace:"nowrap"},children:[e.jsx(G,{children:e.jsxs(f,{children:[e.jsx(a,{children:e.jsx(l,{variant:"h6",children:"Invoice No."})}),e.jsx(a,{children:e.jsx(l,{variant:"h6",children:"Invoice Amount"})}),e.jsx(a,{children:e.jsx(l,{variant:"h6",children:"Due Date"})}),e.jsx(a,{children:e.jsx(l,{variant:"h6",children:"Location"})}),e.jsx(a,{children:e.jsx(l,{variant:"h6",children:"Status"})}),e.jsx(a,{children:e.jsx(l,{variant:"h6",children:"Download"})})]})}),e.jsxs(J,{children:[(C=s>0?n==null?void 0:n.slice(o*s,o*s+s):n)==null?void 0:C.map(t=>e.jsxs(f,{children:[e.jsx(a,{children:e.jsx(l,{variant:"h6",children:t.name})}),e.jsx(a,{children:e.jsxs(l,{color:"textSecondary",variant:"h6",fontWeight:"400",children:["â‚¹ ",t.rounded_total]})}),e.jsx(a,{children:e.jsx(l,{variant:"h6",children:t.due_date})}),e.jsx(a,{children:e.jsx(l,{color:"textSecondary",variant:"h6",fontWeight:"400",children:t.location===null?"----":t.location})}),e.jsx(a,{children:e.jsx(K,{color:r==="Paid"?"success":r==="Credit Note"?"error":r==="Pending"?"primary":"secondary",sx:{borderRadius:"6px"},size:"small",label:r==="All"?t.status==="Credit Note Issued"?"Paid":t.status==="Return"?"Credit Note":t.status:r})}),e.jsx(a,{children:e.jsx(h,{color:"secondary",marginLeft:"1.5rem",component:Q,target:"_blank",href:`http://${window.location.hostname}/api/method/frappe.utils.print_format.download_pdf?doctype=Sales Invoice&name=${t.name}&format=Business Center&no_letterhead=1&letterhead=No Letterhead &settings={}&_lang=en-US`,children:e.jsx(T,{})})})]},t.name)),x>0&&e.jsx(f,{style:{height:53*x},children:e.jsx(a,{colSpan:6})})]}),e.jsx(M,{children:e.jsx(f,{children:e.jsx(X,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:n==null?void 0:n.length,rowsPerPage:s,page:o,SelectProps:{inputprops:{"aria-label":"rows per page"},native:!0},onPageChange:c,onRowsPerPageChange:B,ActionsComponent:R})})})]})})})]})}const se=[{to:"/dashboard",title:"Home"},{title:"Sales Invoice"}],it=()=>{const i=w(s=>s.novelprofileReducer.companyName);Y();const{data:o,error:d,isValidating:r,mutate:m}=N("Sales Invoice",{fields:["name","status","due_date","rounded_total","location"],filters:[["customer","=",i]],limit_start:0,limit:1e5,orderBy:{field:"creation",order:"desc"}});return e.jsxs(L,{title:"Sales Invoice - Novel Office",description:"this is Sales Invoice page",children:[e.jsx(F,{title:"Sales Invoice",items:se}),e.jsx(ie,{data:o})]})};export{it as default};
