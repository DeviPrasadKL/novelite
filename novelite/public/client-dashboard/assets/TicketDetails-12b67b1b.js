import{Z as k,j as o,r as p,c as x,u as f,A as h,_ as l,$ as A,I as P,V as z}from"./index-5a3f6a76.js";import{P as V}from"./PageContainer-ec8a92a5.js";import{A as B}from"./AppCard-673da713.js";import{r as G}from"./createSvgIcon-7fadfa12.js";import{C as w}from"./ChildCard-7fb0986e.js";import{S as L}from"./Scrollbar-5edc915a.js";import H from"./NovelTicketChat-be144a8f.js";import{C as M}from"./Container-a9668dd6.js";import{B as y}from"./Box-0fb41966.js";import{a as C,g as T,s as g,b as v,T as m}from"./Typography-36c6dc69.js";import{G as R}from"./Grid-40636f23.js";import{R as E}from"./Rating-71a93d35.js";import{c as j}from"./clsx.m-1229b3e0.js";import{i as W}from"./ownerWindow-46c4bc4a.js";import{S as q}from"./Stack-84eaf471.js";import{B as F}from"./Breadcrumb-fdd77327.js";import"./Card-f5a04433.js";import"./Paper-73496770.js";import"./useControlled-ede9ea79.js";import"./CardHeader-64a3d8c5.js";import"./Divider-0b7a029c.js";import"./dividerClasses-1168dda4.js";import"./CardContent-66ebae48.js";import"./ListContext-24007cb6.js";import"./useFormControl-c4cdf3b7.js";import"./listItemTextClasses-201dc23b.js";import"./Box-4fe6d763.js";import"./ListItem-ff4d63af.js";import"./index.esm-21a277c7.js";import"./IconButton-7b3a7669.js";import"./useDispatch-794f7d90.js";import"./index-f9ed67d0.js";import"./createContainer-b8167958.js";import"./styled-071a7d88.js";import"./visuallyHidden-fa9934b5.js";import"./createStack-3bc4d5d9.js";import"./useSlotProps-52eb16c2.js";import"./Link-71046a3e.js";var $={},Z=k;Object.defineProperty($,"__esModule",{value:!0});var D=$.default=void 0,J=Z(G()),S=o;D=$.default=(0,J.default)([(0,S.jsx)("path",{d:"M4.01 8.54C5.2 9.23 6 10.52 6 12s-.81 2.77-2 3.46V18h16v-2.54c-1.19-.69-2-1.99-2-3.46s.81-2.77 2-3.46V6H4zM11 7h2v2h-2zm0 4h2v2h-2zm0 4h2v2h-2z",opacity:".3"},"0"),(0,S.jsx)("path",{d:"M22 10V6c0-1.11-.9-2-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2m-2-1.46c-1.19.69-2 1.99-2 3.46s.81 2.77 2 3.46V18H4v-2.54c1.19-.69 2-1.99 2-3.46 0-1.48-.8-2.77-1.99-3.46L4 6h16zM11 15h2v2h-2zm0-4h2v2h-2zm0-4h2v2h-2z"},"1")],"ConfirmationNumberTwoTone");const K=p.createContext({}),b=K;function Q(e){return C("MuiTimeline",e)}T("MuiTimeline",["root","positionLeft","positionRight","positionAlternate"]);const X=["position","className"],Y=e=>{const{position:t,classes:i}=e,n={root:["root",t&&`position${x(t)}`]};return v(n,Q,i)},tt=g("ul",{name:"MuiTimeline",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.position&&t[`position${x(i.position)}`]]}})({display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1}),et=p.forwardRef(function(t,i){const n=f({props:t,name:"MuiTimeline"}),{position:r="right",className:a}=n,c=h(n,X),s=l({},n,{position:r}),d=Y(s),u=p.useMemo(()=>({position:r}),[r]);return o.jsx(b.Provider,{value:u,children:o.jsx(tt,l({className:j(d.root,a),ownerState:s,ref:i},c))})}),ot=et;function it(e){return C("MuiTimelineContent",e)}const nt=T("MuiTimelineContent",["root","positionLeft","positionRight","positionAlternate"]),st=nt,rt=["className"],lt=e=>{const{position:t,classes:i}=e,n={root:["root",`position${x(t)}`]};return v(n,it,i)},at=g(m,{name:"MuiTimelineContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`position${x(i.position)}`]]}})(({ownerState:e})=>l({flex:1,padding:"6px 16px",textAlign:"left"},e.position==="left"&&{textAlign:"right"})),ct=p.forwardRef(function(t,i){const n=f({props:t,name:"MuiTimelineContent"}),{className:r}=n,a=h(n,rt),{position:c}=p.useContext(b),s=l({},n,{position:c||"right"}),d=lt(s);return o.jsx(at,l({component:"div",className:j(d.root,r),ownerState:s,ref:i},a))}),mt=ct;function pt(e){return C("MuiTimelineOppositeContent",e)}const dt=T("MuiTimelineOppositeContent",["root","positionLeft","positionRight","positionAlternate"]),N=dt,ut=["className"],xt=e=>{const{position:t,classes:i}=e,n={root:["root",`position${x(t)}`]};return v(n,pt,i)},ft=g(m,{name:"MuiTimelineOppositeContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`position${x(i.position)}`]]}})(({ownerState:e})=>l({padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1},e.position==="left"&&{textAlign:"left"})),O=p.forwardRef(function(t,i){const n=f({props:t,name:"MuiTimelineOppositeContent"}),{className:r}=n,a=h(n,ut),{position:c}=p.useContext(b),s=l({},n,{position:c||"left"}),d=xt(s);return o.jsx(ft,l({component:"div",className:j(d.root,r),ownerState:s,ref:i},a))});O.muiName="TimelineOppositeContent";const ht=O;function Ct(e){return C("MuiTimelineItem",e)}T("MuiTimelineItem",["root","positionLeft","positionRight","positionAlternate","missingOppositeContent"]);const Tt=["position","className"],gt=e=>{const{position:t,classes:i,hasOppositeContent:n}=e,r={root:["root",`position${x(t)}`,!n&&"missingOppositeContent"]};return v(r,Ct,i)},vt=g("li",{name:"MuiTimelineItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`position${x(i.position)}`]]}})(({ownerState:e})=>l({listStyle:"none",display:"flex",position:"relative",minHeight:70},e.position==="left"&&{flexDirection:"row-reverse"},e.position==="alternate"&&{"&:nth-of-type(even)":{flexDirection:"row-reverse",[`& .${st.root}`]:{textAlign:"right"},[`& .${N.root}`]:{textAlign:"left"}}},!e.hasOppositeContent&&{"&:before":{content:'""',flex:1,padding:"6px 16px"}})),jt=p.forwardRef(function(t,i){const n=f({props:t,name:"MuiTimelineItem"}),{position:r,className:a}=n,c=h(n,Tt),{position:s}=p.useContext(b);let d=!1;p.Children.forEach(n.children,U=>{W(U,["TimelineOppositeContent"])&&(d=!0)});const u=l({},n,{position:r||s||"right",hasOppositeContent:d}),_=gt(u),I=p.useMemo(()=>({position:u.position}),[u.position]);return o.jsx(b.Provider,{value:I,children:o.jsx(vt,l({className:j(_.root,a),ownerState:u,ref:i},c))})}),yt=jt;function Rt(e){return C("MuiTimelineSeparator",e)}T("MuiTimelineSeparator",["root"]);const bt=["className"],wt=e=>{const{classes:t}=e;return v({root:["root"]},Rt,t)},$t=g("div",{name:"MuiTimelineSeparator",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",flex:0,alignItems:"center"}),Mt=p.forwardRef(function(t,i){const n=f({props:t,name:"MuiTimelineSeparator"}),{className:r}=n,a=h(n,bt),c=n,s=wt(c);return o.jsx($t,l({className:j(s.root,r),ownerState:c,ref:i},a))}),St=Mt;function Dt(e){return C("MuiTimelineConnector",e)}T("MuiTimelineConnector",["root"]);const Nt=["className"],Ot=e=>{const{classes:t}=e;return v({root:["root"]},Dt,t)},_t=g("span",{name:"MuiTimelineConnector",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.grey[400],flexGrow:1})),It=p.forwardRef(function(t,i){const n=f({props:t,name:"MuiTimelineConnector"}),{className:r}=n,a=h(n,Nt),c=n,s=Ot(c);return o.jsx(_t,l({className:j(s.root,r),ownerState:c,ref:i},a))}),Ut=It;function kt(e){return C("MuiTimelineDot",e)}T("MuiTimelineDot",["root","filled","outlined","filledGrey","outlinedGrey","filledPrimary","outlinedPrimary","filledSecondary","outlinedSecondary"]);const At=["className","color","variant"],Pt=e=>{const{color:t,variant:i,classes:n}=e,r={root:["root",i,t!=="inherit"&&`${i}${x(t)}`]};return v(r,kt,n)},zt=g("span",{name:"MuiTimelineDot",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.color!=="inherit"&&`${i.variant}${x(i.color)}`],t[i.variant]]}})(({ownerState:e,theme:t})=>l({display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:(t.vars||t).shadows[1],margin:"11.5px 0"},e.variant==="filled"&&l({borderColor:"transparent"},e.color!=="inherit"&&l({},e.color==="grey"?{color:(t.vars||t).palette.grey[50],backgroundColor:(t.vars||t).palette.grey[400]}:{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main})),e.variant==="outlined"&&l({boxShadow:"none",backgroundColor:"transparent"},e.color!=="inherit"&&l({},e.color==="grey"?{borderColor:(t.vars||t).palette.grey[400]}:{borderColor:(t.vars||t).palette[e.color].main})))),Vt=p.forwardRef(function(t,i){const n=f({props:t,name:"MuiTimelineDot"}),{className:r,color:a="grey",variant:c="filled"}=n,s=h(n,At),d=l({},n,{color:a,variant:c}),u=Pt(d);return o.jsx(zt,l({className:j(u.root,r),ownerState:d,ref:i},s))}),Bt=Vt;function Gt(){const{id:e}=A(),{data:t}=P("Issue",e);return console.log("Data = ",t),o.jsxs(M,{sx:{width:"100%",p:2},children:[o.jsxs(M,{sx:{display:"flex",flexDirection:{xs:"column",md:"row",ls:"row"},gap:2,width:"100%",p:2},children:[t&&o.jsx(Lt,{id:t.name,title:t.subject,status:t.status,creation:t.creation,rating:t.rating,ratingDescription:t.review_description}),t&&o.jsx(Ht,{id:t.name})]}),t&&o.jsx(w,{children:o.jsx(H,{id:t.name,title:t.subject})})]})}function Lt({id:e,title:t,status:i,creation:n,rating:r,ratingDescription:a}){return o.jsx(w,{p:1,children:o.jsxs(y,{children:[o.jsx(m,{variant:"h4",pb:1,children:"Ticket Details"}),o.jsx(y,{children:o.jsxs(y,{children:[o.jsxs(y,{display:"flex",alignItems:"center",children:[o.jsx(D,{sx:{width:"70px",height:"70px"}}),o.jsxs(y,{sx:{ml:2},children:[o.jsx(m,{variant:"h6",mb:.5,children:e}),o.jsx(m,{variant:"body2",color:"text.secondary",mb:.5,children:t})]})]}),o.jsxs(R,{container:!0,children:[o.jsxs(R,{item:!0,lg:6,xs:12,mt:4,mx:2,children:[o.jsx(m,{variant:"body2",color:"text.secondary",children:"Ticket Name"}),o.jsx(m,{variant:"subtitle1",mb:.5,fontWeight:600,children:t})]}),o.jsxs(R,{item:!0,lg:6,xs:12,mt:4,mx:2,children:[o.jsx(m,{variant:"body2",color:"text.secondary",children:"Department"}),o.jsx(m,{variant:"subtitle1",mb:.5,fontWeight:600,children:t})]}),r>0?o.jsxs(o.Fragment,{children:[o.jsxs(R,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(m,{variant:"body2",mb:1,color:"text.secondary",children:"Rating"}),o.jsx(E,{name:"read-only",value:r,readOnly:!0})]}),o.jsxs(R,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(m,{variant:"body2",color:"text.secondary",children:"Review Description"}),o.jsx(m,{variant:"subtitle1",fontWeight:600,mb:.5,children:a||"No review description"})]})]}):null]})]})})]})})}function Ht({id:e}){const{data:t,error:i,isValidating:n,mutate:r}=z("Comment",{fields:["name","content","comment_email","creation","comment_by"],filters:[["reference_doctype","=","Issue"],["reference_name","=",e]],limit:1e4,orderBy:{field:"creation",order:"desc"}}),a=s=>{const d={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},u=new Date(s);return new Intl.DateTimeFormat("en-GB",d).format(u).replace(",","")},c=s=>s===null||s===""?"":(s=s.toString(),s.replace(/(<([^>]+)>)/ig,""));return o.jsx(w,{sx:{width:"50%"},children:(t==null?void 0:t.length)!==0?o.jsx(ot,{sx:{[`& .${N.root}`]:{flex:.2}},children:o.jsxs(y,{p:2,children:[o.jsx(m,{variant:"h4",sx:{mt:"-1.3rem"},mb:2,children:"Updates"}),o.jsx(L,{sx:{overflow:"auto",maxHeight:{xs:"65vh",md:"65vh",lg:"60vh"}},children:t==null?void 0:t.map(s=>o.jsxs(yt,{children:[o.jsx(ht,{color:"textSecondary",children:a(s.creation)}),o.jsxs(St,{children:[o.jsx(Bt,{}),o.jsx(Ut,{})]}),o.jsx(mt,{children:c(s.content)})]}))})]})}):o.jsx(q,{alignItems:"center",justifyContent:"center",width:"100%",height:"100%",children:o.jsx(m,{variant:"h4",children:"No Updates"})})})}const Et=[{to:"/dashboard",title:"Home"},{to:"/tickets",title:"Tickets"},{title:"Ticket Details"}];function De(){return o.jsxs(V,{title:"Ticket Details - Novel Office",description:"this is Details page",children:[o.jsx(F,{title:"Ticket Details",items:Et}),o.jsx(B,{children:o.jsx(Gt,{})})]})}export{De as default};
