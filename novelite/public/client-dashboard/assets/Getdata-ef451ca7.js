import{b as v,q as x,d,I as o,s as y,r as C,e as E,f as h,g as m,h as L,j as N}from"./index-8b3b8eba.js";import{a as p}from"./js.cookie-bb004444.js";import{u as j}from"./useDispatch-878c29d8.js";function F(l){var u;const{Component:g}=l,r=v(),{currentUser:A,isValidating:G,isLoading:R,login:V,logout:b,error:q,updateCurrentUser:S,getUserCookie:f}=x(),i=d(a=>a.novelprofileReducer.fullName),n=d(a=>a.novelprofileReducer.userEmail),t=j(),{data:c}=o("App Users",n);if(c&&t(y(c.user_type)),p.set(f),C.useEffect(()=>{if(i==="Guest"){r("/dashboard");return}else p.get("user_id")==null&&r("/")},[]),i!=="Guest"){const e=(()=>{const{data:s,error:_,isValidating:k,mutate:T}=o("User",`${n}`);return s||_})(),I=e==null?void 0:e.app_user_type;if(t(E(e==null?void 0:e.customer)),t(h(I)),(e==null?void 0:e.user_image)!==void 0){const s=e==null?void 0:e.user_image;console.log("userImage = ",e==null?void 0:e.user_image),t(m(s))}else t(m(""));const U=(u=(()=>{const{data:s}=o("Customer",`${e==null?void 0:e.customer}`);return s==null?void 0:s.leads})())==null?void 0:u.map(s=>s.leads);t(L(U))}return N.jsx(g,{})}export{F as default};
