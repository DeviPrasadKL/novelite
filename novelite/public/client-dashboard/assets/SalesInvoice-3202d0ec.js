import{r as f,u as ge,x as se,_ as i,j as e,a4 as _e,G as K,P as V,e as Te,V as $e}from"./index-85be31c7.js";import{r as O}from"./createSvgIcon-4f2e1fd4.js";import"./ParentCard-1675ae50.js";import{S as Me}from"./Stack-e4b9ef18.js";import{B as $}from"./Box-b16eb2c3.js";import{g as me,b as be,s as S,d as U,a as ve,T as d}from"./Typography-080e93f2.js";import{S as fe,c as ke,F as Ne,I as Ae}from"./Select-7830f08f.js";import{M as Pe}from"./MenuItem-ce319505.js";import{P as De}from"./Paper-dee2bc62.js";import{f as Fe,F as ze,L as qe,d as m,T as Ue,a as He,b as Ke,c as W,e as Oe}from"./TableRow-7b78a8d2.js";import{C as Ee}from"./Chip-744cc2fd.js";import{L as Ge}from"./Link-2ca6b9cb.js";import{c as je,i as Ve,u as We,G as q}from"./Grid-37db235f.js";import{I as w}from"./IconButton-17cd79e6.js";import{T as Je}from"./Toolbar-3155a216.js";import{u as pe}from"./useControlled-5bb948a4.js";import{P as Qe}from"./PageContainer-c7f3623e.js";import{B as Xe}from"./Breadcrumb-ace335c9.js";import"./Card-ab74aae4.js";import"./CardHeader-57e6a480.js";import"./Divider-312eb10c.js";import"./CardContent-c9d4e4d7.js";import"./createStack-b75d18eb.js";import"./styled-224b1b3e.js";import"./Modal-5b74a126.js";import"./useSlotProps-4e75a496.js";import"./index.esm-d4445909.js";function Ye(t){return me("MuiTableFooter",t)}be("MuiTableFooter",["root"]);const Ze=["className","component"],et=t=>{const{classes:o}=t;return ve({root:["root"]},Ye,o)},tt=S("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(t,o)=>o.root})({display:"table-footer-group"}),ot={variant:"footer"},he="tfoot",st=f.forwardRef(function(o,c){const n=ge({props:o,name:"MuiTableFooter"}),{className:p,component:l=he}=n,b=se(n,Ze),r=i({},n,{component:l}),a=et(r);return e.jsx(Fe.Provider,{value:ot,children:e.jsx(tt,i({as:l,className:U(a.root,p),ref:c,role:l===he?null:"rowgroup",ownerState:r},b))})}),nt=st,at=je(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),rt=je(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),lt=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],it=f.forwardRef(function(o,c){var n,p,l,b,r,a,B,u;const{backIconButtonProps:M,count:y,disabled:C=!1,getItemAriaLabel:s,nextIconButtonProps:_,onPageChange:k,page:x,rowsPerPage:R,showFirstButton:L,showLastButton:N,slots:I={},slotProps:h={}}=o,Q=se(o,lt),g=_e(),X=T=>{k(T,0)},Y=T=>{k(T,x-1)},A=T=>{k(T,x+1)},v=T=>{k(T,Math.max(0,Math.ceil(y/R)-1))},P=(n=I.firstButton)!=null?n:w,D=(p=I.lastButton)!=null?p:w,F=(l=I.nextButton)!=null?l:w,E=(b=I.previousButton)!=null?b:w,z=(r=I.firstButtonIcon)!=null?r:ze,G=(a=I.lastButtonIcon)!=null?a:qe,j=(B=I.nextButtonIcon)!=null?B:rt,ce=(u=I.previousButtonIcon)!=null?u:at,Ce=g?D:P,Re=g?F:E,Se=g?E:F,ye=g?P:D,Le=g?h.lastButton:h.firstButton,ue=g?h.nextButton:h.previousButton,de=g?h.previousButton:h.nextButton,we=g?h.firstButton:h.lastButton;return e.jsxs("div",i({ref:c},Q,{children:[L&&e.jsx(Ce,i({onClick:X,disabled:C||x===0,"aria-label":s("first",x),title:s("first",x)},Le,{children:g?e.jsx(G,i({},h.lastButtonIcon)):e.jsx(z,i({},h.firstButtonIcon))})),e.jsx(Re,i({onClick:Y,disabled:C||x===0,color:"inherit","aria-label":s("previous",x),title:s("previous",x)},ue!=null?ue:M,{children:g?e.jsx(j,i({},h.nextButtonIcon)):e.jsx(ce,i({},h.previousButtonIcon))})),e.jsx(Se,i({onClick:A,disabled:C||(y!==-1?x>=Math.ceil(y/R)-1:!1),color:"inherit","aria-label":s("next",x),title:s("next",x)},de!=null?de:_,{children:g?e.jsx(ce,i({},h.previousButtonIcon)):e.jsx(j,i({},h.nextButtonIcon))})),N&&e.jsx(ye,i({onClick:v,disabled:C||x>=Math.ceil(y/R)-1,"aria-label":s("last",x),title:s("last",x)},we,{children:g?e.jsx(z,i({},h.firstButtonIcon)):e.jsx(G,i({},h.lastButtonIcon))}))]}))}),ct=it;function ut(t){return me("MuiTablePagination",t)}const dt=be("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),H=dt;var xe;const pt=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],ht=S(m,{name:"MuiTablePagination",slot:"Root",overridesResolver:(t,o)=>o.root})(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}})),xt=S(Je,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,o)=>i({[`& .${H.actions}`]:o.actions},o.toolbar)})(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${H.actions}`]:{flexShrink:0,marginLeft:20}})),gt=S("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(t,o)=>o.spacer})({flex:"1 1 100%"}),mt=S("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(t,o)=>o.selectLabel})(({theme:t})=>i({},t.typography.body2,{flexShrink:0})),bt=S(fe,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,o)=>i({[`& .${H.selectIcon}`]:o.selectIcon,[`& .${H.select}`]:o.select},o.input,o.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${H.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),vt=S(Pe,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(t,o)=>o.menuItem})({}),ft=S("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(t,o)=>o.displayedRows})(({theme:t})=>i({},t.typography.body2,{flexShrink:0}));function Pt({from:t,to:o,count:c}){return`${t}â€“${o} of ${c!==-1?c:`more than ${o}`}`}function jt(t){return`Go to ${t} page`}const Bt=t=>{const{classes:o}=t;return ve({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},ut,o)},It=f.forwardRef(function(o,c){var n;const p=ge({props:o,name:"MuiTablePagination"}),{ActionsComponent:l=ct,backIconButtonProps:b,className:r,colSpan:a,component:B=m,count:u,disabled:M=!1,getItemAriaLabel:y=jt,labelDisplayedRows:C=Pt,labelRowsPerPage:s="Rows per page:",nextIconButtonProps:_,onPageChange:k,onRowsPerPageChange:x,page:R,rowsPerPage:L,rowsPerPageOptions:N=[10,25,50,100],SelectProps:I={},showFirstButton:h=!1,showLastButton:Q=!1,slotProps:g={},slots:X={}}=p,Y=se(p,pt),A=p,v=Bt(A),P=(n=g==null?void 0:g.select)!=null?n:I,D=P.native?"option":vt;let F;(B===m||B==="td")&&(F=a||1e3);const E=pe(P.id),z=pe(P.labelId),G=()=>u===-1?(R+1)*L:L===-1?u:Math.min(u,(R+1)*L);return e.jsx(ht,i({colSpan:F,ref:c,as:B,ownerState:A,className:U(v.root,r)},Y,{children:e.jsxs(xt,{className:v.toolbar,children:[e.jsx(gt,{className:v.spacer}),N.length>1&&e.jsx(mt,{className:v.selectLabel,id:z,children:s}),N.length>1&&e.jsx(bt,i({variant:"standard"},!P.variant&&{input:xe||(xe=e.jsx(ke,{}))},{value:L,onChange:x,id:E,labelId:z},P,{classes:i({},P.classes,{root:U(v.input,v.selectRoot,(P.classes||{}).root),select:U(v.select,(P.classes||{}).select),icon:U(v.selectIcon,(P.classes||{}).icon)}),disabled:M,children:N.map(j=>f.createElement(D,i({},!Ve(D)&&{ownerState:A},{className:v.menuItem,key:j.label?j.label:j,value:j.value?j.value:j}),j.label?j.label:j))})),e.jsx(ft,{className:v.displayedRows,children:C({from:u===0?0:R*L+1,to:G(),count:u===-1?-1:u,page:R})}),e.jsx(l,{className:v.actions,backIconButtonProps:b,count:u,nextIconButtonProps:_,onPageChange:k,page:R,rowsPerPage:L,showFirstButton:h,showLastButton:Q,slotProps:g.actions,slots:X.actions,getItemAriaLabel:y,disabled:M})]})}))}),Ct=It;var ne={},Rt=K;Object.defineProperty(ne,"__esModule",{value:!0});var Z=ne.default=void 0,St=Rt(O()),yt=e;Z=ne.default=(0,St.default)((0,yt.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var ae={},Lt=K;Object.defineProperty(ae,"__esModule",{value:!0});var ee=ae.default=void 0,wt=Lt(O()),_t=e;ee=ae.default=(0,wt.default)((0,_t.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var re={},Tt=K;Object.defineProperty(re,"__esModule",{value:!0});var te=re.default=void 0,$t=Tt(O()),Mt=e;te=re.default=(0,$t.default)((0,Mt.jsx)("path",{d:"M18.41 16.59 13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");var le={},kt=K;Object.defineProperty(le,"__esModule",{value:!0});var oe=le.default=void 0,Nt=kt(O()),At=e;oe=le.default=(0,Nt.default)((0,At.jsx)("path",{d:"M5.59 7.41 10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");var ie={},Dt=K;Object.defineProperty(ie,"__esModule",{value:!0});var Be=ie.default=void 0,Ft=Dt(O()),zt=e;Be=ie.default=(0,Ft.default)((0,zt.jsx)("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5z"}),"FileDownloadOutlined");function Ie(t){const o=We(),{count:c,page:n,rowsPerPage:p,onPageChange:l}=t,b=u=>{l(u,0)},r=u=>{l(u,n-1)},a=u=>{l(u,n+1)},B=u=>{l(u,Math.max(0,Math.ceil(c/p)-1))};return e.jsxs($,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(w,{onClick:b,disabled:n===0,"aria-label":"first page",children:o.direction==="rtl"?e.jsx(oe,{}):e.jsx(te,{})}),e.jsx(w,{onClick:r,disabled:n===0,"aria-label":"previous page",children:o.direction==="rtl"?e.jsx(ee,{}):e.jsx(Z,{})}),e.jsx(w,{onClick:a,disabled:n>=Math.ceil(c/p)-1,"aria-label":"next page",children:o.direction==="rtl"?e.jsx(Z,{}):e.jsx(ee,{})}),e.jsx(w,{onClick:B,disabled:n>=Math.ceil(c/p)-1,"aria-label":"last page",children:o.direction==="rtl"?e.jsx(te,{}):e.jsx(oe,{})})]})}Ie.propTypes={count:V.number.isRequired,onPageChange:V.func.isRequired,page:V.number.isRequired,rowsPerPage:V.number.isRequired};function qt({data:t,statusFilter:o,setStatusFilter:c}){var C;const[n,p]=f.useState(0),[l,b]=f.useState(5),[r,a]=f.useState(t);f.useEffect(()=>{a(o==="Pending"?t==null?void 0:t.filter(s=>s.status==="Overdue"||s.status==="Unpaid"||s.status==="Partly Paid"||s.status==="Unpaid and Discounted"||s.status==="Overdue and Discounted"||s.status==="Partly Paid and Discounted"):o==="Paid"?t==null?void 0:t.filter(s=>s.status==="Paid"||s.status==="Credit Note Issued"):o==="Credit Note"?t==null?void 0:t.filter(s=>s.status==="Return"):t)},[o]);const B=n>0?Math.max(0,(1+n)*l-(r==null?void 0:r.length)):0,u=(s,_)=>{p(_)},M=s=>{b(parseInt(s.target.value,10)),p(0)};let y=["ALL","Pending","Paid","Credit Note"];return e.jsxs(Me,{children:[e.jsxs($,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx($,{children:e.jsx(d,{children:"Invoice List"})}),e.jsx($,{sx:{mb:2},children:e.jsxs(Ne,{sx:{m:1,minWidth:140},children:[e.jsx(Ae,{id:"demo-simple-select-autowidth-label",children:"Status"}),e.jsx(fe,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:o,label:"Status",onChange:s=>c(s.target.value),children:y.map((s,_)=>e.jsx(Pe,{value:s,children:s},s+_))})]})})]}),e.jsx(De,{variant:"outlined",children:e.jsx(Ue,{children:e.jsxs(He,{"aria-label":"custom sales invoice",sx:{whiteSpace:"nowrap"},children:[e.jsx(Ke,{children:e.jsxs(W,{children:[e.jsx(m,{children:e.jsx(d,{variant:"h6",children:"Invoice No."})}),e.jsx(m,{children:e.jsx(d,{variant:"h6",children:"Invoice Amount"})}),e.jsx(m,{children:e.jsx(d,{variant:"h6",children:"Due Date"})}),e.jsx(m,{children:e.jsx(d,{variant:"h6",children:"Location"})}),e.jsx(m,{children:e.jsx(d,{variant:"h6",children:"Status"})}),e.jsx(m,{children:e.jsx(d,{variant:"h6",children:"Download"})})]})}),e.jsxs(Oe,{children:[(C=l>0?r==null?void 0:r.slice(n*l,n*l+l):r)==null?void 0:C.map(s=>e.jsxs(W,{children:[e.jsx(m,{children:e.jsx(d,{variant:"h6",children:s.name})}),e.jsx(m,{children:e.jsxs(d,{color:"textSecondary",variant:"h6",fontWeight:"400",children:["â‚¹ ",s.rounded_total]})}),e.jsx(m,{children:e.jsx(d,{variant:"h6",children:s.due_date})}),e.jsx(m,{children:e.jsx(d,{color:"textSecondary",variant:"h6",fontWeight:"400",children:s.location===null?"----":s.location})}),e.jsx(m,{children:e.jsx(Ee,{color:o==="Paid"?"success":o==="Credit Note"?"error":o==="Pending"?"primary":"secondary",sx:{borderRadius:"6px"},size:"small",label:o==="All"?s.status==="Credit Note Issued"?"Paid":s.status==="Return"?"Credit Note":s.status:o})}),e.jsx(m,{children:e.jsx($,{color:"secondary",marginLeft:"1.5rem",component:Ge,target:"_blank",href:`http://${window.location.hostname}/api/method/frappe.utils.print_format.download_pdf?doctype=Sales Invoice&name=${s.name}&format=Business Center&no_letterhead=1&letterhead=No Letterhead &settings={}&_lang=en-US`,children:e.jsx(Be,{})})})]},s.name)),B>0&&e.jsx(W,{style:{height:53*B},children:e.jsx(m,{colSpan:6})})]}),e.jsx(nt,{children:e.jsx(W,{children:e.jsx(Ct,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:r==null?void 0:r.length,rowsPerPage:l,page:n,SelectProps:{inputprops:{"aria-label":"rows per page"},native:!0},onPageChange:u,onRowsPerPageChange:M,ActionsComponent:Ie})})})]})})})]})}const J=S($)(()=>({padding:"30px",transition:"0.1s ease-in",cursor:"pointer",color:"inherit","&:hover":{transform:"scale(1.03)"}})),Ut=({data:t,setStatusFilter:o})=>{const[c,n]=f.useState([]),[p,l]=f.useState([]),[b,r]=f.useState([]);return f.useEffect(()=>{n(t==null?void 0:t.filter(a=>a.status==="Overdue"||a.status==="Unpaid"||a.status==="Partly Paid"||a.status==="Unpaid and Discounted"||a.status==="Overdue and Discounted"||a.status==="Partly Paid and Discounted")),l(t==null?void 0:t.filter(a=>a.status==="Paid"||a.status==="Credit Note Issued")),r(t==null?void 0:t.filter(a=>a.status==="Return"))},[]),e.jsx($,{mb:2,children:e.jsxs(q,{container:!0,spacing:3,textAlign:"center",children:[e.jsx(q,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(J,{onClick:()=>o("ALL"),sx:{backgroundColor:"primary.light",color:"primary.main"},children:[e.jsx(d,{variant:"h3",children:t.length}),e.jsx(d,{variant:"h6",children:"ALL"})]})}),e.jsx(q,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(J,{onClick:()=>o("Pending"),sx:{backgroundColor:"warning.light",color:"warning.main"},children:[e.jsx(d,{variant:"h3",children:c.length}),e.jsx(d,{variant:"h6",children:"Pending"})]})}),e.jsx(q,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(J,{onClick:()=>o("Paid"),sx:{backgroundColor:"success.light",color:"success.main"},children:[e.jsx(d,{variant:"h3",children:p.length}),e.jsx(d,{variant:"h6",children:"Paid"})]})}),e.jsx(q,{item:!0,xs:12,sm:6,lg:3,children:e.jsxs(J,{onClick:()=>o("Credit Note"),sx:{backgroundColor:"error.light",color:"error.main"},children:[e.jsx(d,{variant:"h3",children:b.length}),e.jsx(d,{variant:"h6",children:"Credit Note"})]})})]})})},Ht=[{to:"/dashboard",title:"Home"},{title:"Sales Invoice"}],bo=()=>{const t=Te(r=>r.novelprofileReducer.companyName),[o,c]=f.useState("ALL"),{data:n,error:p,isValidating:l,mutate:b}=$e("Sales Invoice",{fields:["name","status","due_date","rounded_total","location"],filters:[["customer","=",t]],limit_start:0,limit:1e5,orderBy:{field:"creation",order:"desc"}});return e.jsxs(Qe,{title:"Sales Invoice - Novel Office",description:"this is Sales Invoice page",children:[e.jsx(Xe,{title:"Sales Invoice",items:Ht}),n&&e.jsx(Ut,{data:n,statusFilter:o,setStatusFilter:c}),n&&e.jsx(qt,{data:n,statusFilter:o,setStatusFilter:c})]})};export{bo as default};
