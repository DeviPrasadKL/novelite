import{e as k,j as o,P as A,r as m,c as x,u as h,v as C,_ as a,a7 as P,V as z}from"./index-70c16ae5.js";import{P as V}from"./PageContainer-91040e30.js";import{C as B}from"./Card-d738e094.js";import{r as G,i as L}from"./createSvgIcon-2647176c.js";import{C as M}from"./ChildCard-87dd0c98.js";import{S as W}from"./Scrollbar-59308731.js";import{c as H}from"./createContainer-f8290b84.js";import{B as b}from"./Box-82996840.js";import{g as v,f as T,s as g,a as j,T as l}from"./Typography-d7f7ee89.js";import{G as f}from"./Grid-83d49afb.js";import{c as y}from"./clsx.m-1229b3e0.js";import{i as E}from"./useControlled-7ff99a89.js";import{B as q}from"./Breadcrumb-a9d4acc6.js";import"./Paper-44d27fac.js";import"./CardHeader-6b3a08ee.js";import"./Divider-86232ad0.js";import"./CardContent-9e389890.js";import"./Box-9e9cbe27.js";import"./styled-3924aa5a.js";import"./index.esm-0f7c1405.js";import"./useSlotProps-a5cefa40.js";import"./Link-1acea9b5.js";const F=H(),J=F,S=({children:t})=>{const e=k(i=>i.customizer);return o.jsx(B,{sx:{display:"flex",p:0},elevation:e.isCardShadow?9:0,variant:e.isCardShadow?void 0:"outlined",children:t})};S.propTypes={children:A.node};const K=S;var $={},Q=L;Object.defineProperty($,"__esModule",{value:!0});var N=$.default=void 0,X=Q(G()),w=o;N=$.default=(0,X.default)([(0,w.jsx)("path",{d:"M4.01 8.54C5.2 9.23 6 10.52 6 12s-.81 2.77-2 3.46V18h16v-2.54c-1.19-.69-2-1.99-2-3.46s.81-2.77 2-3.46V6H4zM11 7h2v2h-2zm0 4h2v2h-2zm0 4h2v2h-2z",opacity:".3"},"0"),(0,w.jsx)("path",{d:"M22 10V6c0-1.11-.9-2-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2m-2-1.46c-1.19.69-2 1.99-2 3.46s.81 2.77 2 3.46V18H4v-2.54c1.19-.69 2-1.99 2-3.46 0-1.48-.8-2.77-1.99-3.46L4 6h16zM11 15h2v2h-2zm0-4h2v2h-2zm0-4h2v2h-2z"},"1")],"ConfirmationNumberTwoTone");const Y=m.createContext({}),R=Y;function Z(t){return v("MuiTimeline",t)}T("MuiTimeline",["root","positionLeft","positionRight","positionAlternate"]);const ee=["position","className"],te=t=>{const{position:e,classes:i}=t,n={root:["root",e&&`position${x(e)}`]};return j(n,Z,i)},oe=g("ul",{name:"MuiTimeline",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.position&&e[`position${x(i.position)}`]]}})({display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1}),ie=m.forwardRef(function(e,i){const n=h({props:e,name:"MuiTimeline"}),{position:r="right",className:p}=n,c=C(n,ee),s=a({},n,{position:r}),d=te(s),u=m.useMemo(()=>({position:r}),[r]);return o.jsx(R.Provider,{value:u,children:o.jsx(oe,a({className:y(d.root,p),ownerState:s,ref:i},c))})}),ne=ie;function se(t){return v("MuiTimelineContent",t)}const re=T("MuiTimelineContent",["root","positionLeft","positionRight","positionAlternate"]),le=re,ae=["className"],ce=t=>{const{position:e,classes:i}=t,n={root:["root",`position${x(e)}`]};return j(n,se,i)},pe=g(l,{name:"MuiTimelineContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[`position${x(i.position)}`]]}})(({ownerState:t})=>a({flex:1,padding:"6px 16px",textAlign:"left"},t.position==="left"&&{textAlign:"right"})),me=m.forwardRef(function(e,i){const n=h({props:e,name:"MuiTimelineContent"}),{className:r}=n,p=C(n,ae),{position:c}=m.useContext(R),s=a({},n,{position:c||"right"}),d=ce(s);return o.jsx(pe,a({component:"div",className:y(d.root,r),ownerState:s,ref:i},p))}),de=me;function ue(t){return v("MuiTimelineOppositeContent",t)}const xe=T("MuiTimelineOppositeContent",["root","positionLeft","positionRight","positionAlternate"]),D=xe,fe=["className"],he=t=>{const{position:e,classes:i}=t,n={root:["root",`position${x(e)}`]};return j(n,ue,i)},Ce=g(l,{name:"MuiTimelineOppositeContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[`position${x(i.position)}`]]}})(({ownerState:t})=>a({padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1},t.position==="left"&&{textAlign:"left"})),_=m.forwardRef(function(e,i){const n=h({props:e,name:"MuiTimelineOppositeContent"}),{className:r}=n,p=C(n,fe),{position:c}=m.useContext(R),s=a({},n,{position:c||"left"}),d=he(s);return o.jsx(Ce,a({component:"div",className:y(d.root,r),ownerState:s,ref:i},p))});_.muiName="TimelineOppositeContent";const ve=_;function Te(t){return v("MuiTimelineItem",t)}T("MuiTimelineItem",["root","positionLeft","positionRight","positionAlternate","missingOppositeContent"]);const ge=["position","className"],je=t=>{const{position:e,classes:i,hasOppositeContent:n}=t,r={root:["root",`position${x(e)}`,!n&&"missingOppositeContent"]};return j(r,Te,i)},ye=g("li",{name:"MuiTimelineItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[`position${x(i.position)}`]]}})(({ownerState:t})=>a({listStyle:"none",display:"flex",position:"relative",minHeight:70},t.position==="left"&&{flexDirection:"row-reverse"},t.position==="alternate"&&{"&:nth-of-type(even)":{flexDirection:"row-reverse",[`& .${le.root}`]:{textAlign:"right"},[`& .${D.root}`]:{textAlign:"left"}}},!t.hasOppositeContent&&{"&:before":{content:'""',flex:1,padding:"6px 16px"}})),be=m.forwardRef(function(e,i){const n=h({props:e,name:"MuiTimelineItem"}),{position:r,className:p}=n,c=C(n,ge),{position:s}=m.useContext(R);let d=!1;m.Children.forEach(n.children,I=>{E(I,["TimelineOppositeContent"])&&(d=!0)});const u=a({},n,{position:r||s||"right",hasOppositeContent:d}),O=je(u),U=m.useMemo(()=>({position:u.position}),[u.position]);return o.jsx(R.Provider,{value:U,children:o.jsx(ye,a({className:y(O.root,p),ownerState:u,ref:i},c))})}),Re=be;function $e(t){return v("MuiTimelineSeparator",t)}T("MuiTimelineSeparator",["root"]);const we=["className"],Me=t=>{const{classes:e}=t;return j({root:["root"]},$e,e)},Se=g("div",{name:"MuiTimelineSeparator",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",flex:0,alignItems:"center"}),Ne=m.forwardRef(function(e,i){const n=h({props:e,name:"MuiTimelineSeparator"}),{className:r}=n,p=C(n,we),c=n,s=Me(c);return o.jsx(Se,a({className:y(s.root,r),ownerState:c,ref:i},p))}),De=Ne;function _e(t){return v("MuiTimelineConnector",t)}T("MuiTimelineConnector",["root"]);const Oe=["className"],Ue=t=>{const{classes:e}=t;return j({root:["root"]},_e,e)},Ie=g("span",{name:"MuiTimelineConnector",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.grey[400],flexGrow:1})),ke=m.forwardRef(function(e,i){const n=h({props:e,name:"MuiTimelineConnector"}),{className:r}=n,p=C(n,Oe),c=n,s=Ue(c);return o.jsx(Ie,a({className:y(s.root,r),ownerState:c,ref:i},p))}),Ae=ke;function Pe(t){return v("MuiTimelineDot",t)}T("MuiTimelineDot",["root","filled","outlined","filledGrey","outlinedGrey","filledPrimary","outlinedPrimary","filledSecondary","outlinedSecondary"]);const ze=["className","color","variant"],Ve=t=>{const{color:e,variant:i,classes:n}=t,r={root:["root",i,e!=="inherit"&&`${i}${x(e)}`]};return j(r,Pe,n)},Be=g("span",{name:"MuiTimelineDot",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.color!=="inherit"&&`${i.variant}${x(i.color)}`],e[i.variant]]}})(({ownerState:t,theme:e})=>a({display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:(e.vars||e).shadows[1],margin:"11.5px 0"},t.variant==="filled"&&a({borderColor:"transparent"},t.color!=="inherit"&&a({},t.color==="grey"?{color:(e.vars||e).palette.grey[50],backgroundColor:(e.vars||e).palette.grey[400]}:{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main})),t.variant==="outlined"&&a({boxShadow:"none",backgroundColor:"transparent"},t.color!=="inherit"&&a({},t.color==="grey"?{borderColor:(e.vars||e).palette.grey[400]}:{borderColor:(e.vars||e).palette[t.color].main})))),Ge=m.forwardRef(function(e,i){const n=h({props:e,name:"MuiTimelineDot"}),{className:r,color:p="grey",variant:c="filled"}=n,s=C(n,ze),d=a({},n,{color:p,variant:c}),u=Ve(d);return o.jsx(Be,a({className:y(u.root,r),ownerState:d,ref:i},s))}),Le=Ge;function We(){const{id:t,title:e,status:i,description:n}=P();return console.log("All details = ",t," ",e," ",i," ",n),o.jsxs(J,{sx:{display:"flex",flexDirection:{xs:"column",md:"row",ls:"row"},gap:2,width:"100%",p:2},children:[o.jsx(He,{id:t,title:e,status:i,description:n}),o.jsx(Ee,{id:t})]})}function He({id:t,title:e,status:i,description:n}){return o.jsx(M,{sx:{width:"50%"},children:o.jsxs(b,{p:2,children:[o.jsx(l,{variant:"h4",children:"Ticket Details"}),o.jsx(b,{children:o.jsxs(b,{p:3,children:[o.jsxs(b,{display:"flex",alignItems:"center",children:[o.jsx(N,{sx:{width:"70px",height:"70px"}}),o.jsxs(b,{sx:{ml:2},children:[o.jsx(l,{variant:"h6",mb:.5,children:t}),o.jsx(l,{variant:"body2",color:"text.secondary",mb:.5,children:e}),o.jsx(l,{variant:"body2",color:"text.secondary",sx:{display:n!=="null"?"block":"none"},children:e})]})]}),o.jsxs(f,{container:!0,children:[o.jsxs(f,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(l,{variant:"body2",color:"text.secondary",children:"Ticket Name"}),o.jsx(l,{variant:"subtitle1",mb:.5,fontWeight:600,children:e})]}),o.jsxs(f,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(l,{variant:"body2",color:"text.secondary",children:"Status"}),o.jsx(l,{variant:"subtitle1",fontWeight:600,mb:.5,children:i})]}),o.jsxs(f,{item:!0,lg:12,xs:12,mt:4,children:[o.jsx(l,{variant:"body2",color:"text.secondary",children:"Id"}),o.jsx(l,{variant:"subtitle1",fontWeight:600,mb:.5,children:t})]}),o.jsxs(f,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(l,{variant:"body2",color:"text.secondary",children:"Department"}),o.jsx(l,{variant:"subtitle1",mb:.5,fontWeight:600,children:e})]}),o.jsxs(f,{item:!0,lg:6,xs:12,mt:4,children:[o.jsx(l,{variant:"body2",color:"text.secondary",children:"Company"}),o.jsx(l,{variant:"subtitle1",fontWeight:600,mb:.5,children:e})]}),o.jsxs(f,{item:!0,lg:12,xs:12,mt:4,children:[o.jsx(l,{variant:"body2",mb:1,color:"text.secondary",children:"Notes"}),o.jsx(l,{variant:"subtitle1",mb:.5,children:e})]})]})]})})]})})}function Ee({id:t}){const{data:e,error:i,isValidating:n,mutate:r}=z("Comment",{fields:["name","content","comment_email","creation","comment_by"],filters:[["reference_doctype","=","Issue"],["reference_name","=",t]],limit:1e4,orderBy:{field:"creation",order:"desc"}}),p=s=>{const d={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},u=new Date(s);return new Intl.DateTimeFormat("en-GB",d).format(u).replace(",","")},c=s=>s===null||s===""?"":(s=s.toString(),s.replace(/(<([^>]+)>)/ig,""));return o.jsx(M,{sx:{width:"50%"},children:(e==null?void 0:e.length)!==0?o.jsx(ne,{sx:{[`& .${D.root}`]:{flex:.2}},children:o.jsxs(b,{p:2,children:[o.jsx(l,{variant:"h4",sx:{mt:"-1.3rem"},mb:2,children:"Updates"}),o.jsx(W,{sx:{overflow:"auto",maxHeight:{xs:"65vh",md:"65vh",lg:"60vh"}},children:e==null?void 0:e.map(s=>o.jsxs(Re,{children:[o.jsx(ve,{color:"textSecondary",children:p(s.creation)}),o.jsxs(De,{children:[o.jsx(Le,{}),o.jsx(Ae,{})]}),o.jsx(de,{children:c(s.content)})]}))})]})}):o.jsx(l,{variant:"h4",children:"No Updates"})})}const qe=[{to:"/dashboard",title:"Home"},{to:"/tickets",title:"Tickets"},{title:"Ticket Details"}];function ft(){return o.jsxs(V,{title:"Chat ui",description:"this is Chat page",children:[o.jsx(q,{title:"Ticket Details",items:qe}),o.jsx(K,{children:o.jsx(We,{})})]})}export{ft as default};
