import{y as _,A as v,z as n,r as x,a2 as y,a3 as C,a4 as c,a5 as E,j as L,a6 as u}from"./index-8bfed645.js";import{a as l}from"./js.cookie-bb004444.js";import{u as N}from"./useDispatch-6786e4e4.js";function w(m){var i;const{Component:d}=m,a=_(),{currentUser:h,isValidating:j,isLoading:G,login:R,logout:V,error:A,updateCurrentUser:$,getUserCookie:g}=v(),r=n(o=>o.novelprofileReducer.fullName),p=n(o=>o.novelprofileReducer.userEmail),t=N();if(l.set(g),x.useEffect(()=>{if(r==="Guest"){a("/dashboard");return}else l.get("user_id")==null&&a("/")},[]),r!=="Guest"){const e=(()=>{const{data:s,error:U,isValidating:k,mutate:q}=u("User",`${p}`);return s||U})(),f=e==null?void 0:e.app_user_type;if(t(y(e==null?void 0:e.customer)),t(C(f)),(e==null?void 0:e.user_image)!==void 0){const s=e==null?void 0:e.user_image;console.log("userImage = ",e==null?void 0:e.user_image),t(c(s))}else t(c(""));const I=(i=(()=>{const{data:s}=u("Customer",`${e==null?void 0:e.customer}`);return s==null?void 0:s.leads})())==null?void 0:i.map(s=>s.leads);t(E(I))}return L.jsx(d,{})}export{w as default};
