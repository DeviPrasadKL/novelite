import{r as R,u as ge,a as U,_ as h,j as e,K as k,y as Te,ah as _e}from"./index-7beedb8e.js";import{P as Le}from"./PageContainer-beff9693.js";import{L as Be,B as Me}from"./Breadcrumb-f0f04833.js";import{r as E,i as W}from"./createSvgIcon-1cd7e241.js";import{a as Y,d as Z}from"./KeyboardArrowRight-59db8a78.js";import"./ParentCard-9aba54aa.js";import{S as $e}from"./Stack-3d887df5.js";import{B}from"./Box-d98c1a64.js";import{g as be,a as xe,s as S,c as M,b as Pe,T as P}from"./Typography-212872cb.js";import{S as fe,F as ke,I as Fe}from"./Select-f2445807.js";import{M as ve}from"./MenuItem-958df465.js";import{c as je,u as Ie,i as Ae,P as Ne}from"./Grid-e0639067.js";import{T as De,L as ee,F as te,a as d,b as ze,c as qe,d as He,e as F,f as Ke}from"./TableRow-b3dc842c.js";import{C as Ue}from"./Chip-6faae9d2.js";import{I as y}from"./IconButton-3759ea07.js";import{T as Ee}from"./Toolbar-a6228af4.js";import{b as ae}from"./useControlled-92ccd080.js";import{I as We}from"./ListContext-9e5014b9.js";import{u as Oe}from"./useDispatch-a9326f5b.js";import"./index.esm-d9ef1124.js";import"./Card-e685ffd3.js";import"./CardHeader-461005f7.js";import"./Divider-db5e0b6a.js";import"./CardContent-ee48826d.js";import"./createStack-0ca957c9.js";import"./styled-fbde418f.js";import"./useFormControl-77288aaf.js";import"./Modal-9dacc2fa.js";import"./listItemTextClasses-a15652ad.js";function Ve(t){return be("MuiTableFooter",t)}xe("MuiTableFooter",["root"]);const Ge=["className","component"],Je=t=>{const{classes:a}=t;return Pe({root:["root"]},Ve,a)},Qe=S("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(t,a)=>a.root})({display:"table-footer-group"}),Xe={variant:"footer"},oe="tfoot",Ye=R.forwardRef(function(a,c){const s=ge({props:a,name:"MuiTableFooter"}),{className:u,component:l=oe}=s,f=U(s,Ge),r=h({},s,{component:l}),p=Je(r);return e.jsx(De.Provider,{value:Xe,children:e.jsx(Qe,h({as:l,className:M(p.root,u),ref:c,role:l===oe?null:"rowgroup",ownerState:r},f))})}),Ze=Ye,se=je(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),ne=je(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var le,re,ie,ce,de,ue,pe,he;const et=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slotProps"],tt=R.forwardRef(function(a,c){var s,u,l,f;const{backIconButtonProps:r,count:p,disabled:m=!1,getItemAriaLabel:n,nextIconButtonProps:_,onPageChange:C,page:i,rowsPerPage:o,showFirstButton:w,showLastButton:A,slotProps:v}=a,T=U(a,et),b=Ie(),L=g=>{C(g,0)},N=g=>{C(g,i-1)},D=g=>{C(g,i+1)},z=g=>{C(g,Math.max(0,Math.ceil(p/o)-1))};return e.jsxs("div",h({ref:c},T,{children:[w&&e.jsx(y,h({onClick:L,disabled:m||i===0,"aria-label":n("first",i),title:n("first",i)},(s=v==null?void 0:v.firstButton)!=null?s:{},{children:b.direction==="rtl"?le||(le=e.jsx(ee,{})):re||(re=e.jsx(te,{}))})),e.jsx(y,h({onClick:N,disabled:m||i===0,color:"inherit","aria-label":n("previous",i),title:n("previous",i)},(u=v==null?void 0:v.previousButton)!=null?u:r,{children:b.direction==="rtl"?ie||(ie=e.jsx(ne,{})):ce||(ce=e.jsx(se,{}))})),e.jsx(y,h({onClick:D,disabled:m||(p!==-1?i>=Math.ceil(p/o)-1:!1),color:"inherit","aria-label":n("next",i),title:n("next",i)},(l=v==null?void 0:v.nextButton)!=null?l:_,{children:b.direction==="rtl"?de||(de=e.jsx(se,{})):ue||(ue=e.jsx(ne,{}))})),A&&e.jsx(y,h({onClick:z,disabled:m||i>=Math.ceil(p/o)-1,"aria-label":n("last",i),title:n("last",i)},(f=v==null?void 0:v.lastButton)!=null?f:{},{children:b.direction==="rtl"?pe||(pe=e.jsx(te,{})):he||(he=e.jsx(ee,{}))}))]}))}),at=tt;function ot(t){return be("MuiTablePagination",t)}const st=xe("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),$=st;var me;const nt=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps"],lt=S(d,{name:"MuiTablePagination",slot:"Root",overridesResolver:(t,a)=>a.root})(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}})),rt=S(Ee,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,a)=>h({[`& .${$.actions}`]:a.actions},a.toolbar)})(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${$.actions}`]:{flexShrink:0,marginLeft:20}})),it=S("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(t,a)=>a.spacer})({flex:"1 1 100%"}),ct=S("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(t,a)=>a.selectLabel})(({theme:t})=>h({},t.typography.body2,{flexShrink:0})),dt=S(fe,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,a)=>h({[`& .${$.selectIcon}`]:a.selectIcon,[`& .${$.select}`]:a.select},a.input,a.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${$.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),ut=S(ve,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(t,a)=>a.menuItem})({}),pt=S("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(t,a)=>a.displayedRows})(({theme:t})=>h({},t.typography.body2,{flexShrink:0}));function ht({from:t,to:a,count:c}){return`${t}â€“${a} of ${c!==-1?c:`more than ${a}`}`}function mt(t){return`Go to ${t} page`}const gt=t=>{const{classes:a}=t;return Pe({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},ot,a)},bt=R.forwardRef(function(a,c){var s;const u=ge({props:a,name:"MuiTablePagination"}),{ActionsComponent:l=at,backIconButtonProps:f,className:r,colSpan:p,component:m=d,count:n,disabled:_=!1,getItemAriaLabel:C=mt,labelDisplayedRows:i=ht,labelRowsPerPage:o="Rows per page:",nextIconButtonProps:w,onPageChange:A,onRowsPerPageChange:v,page:T,rowsPerPage:b,rowsPerPageOptions:L=[10,25,50,100],SelectProps:N={},showFirstButton:D=!1,showLastButton:z=!1,slotProps:g}=u,ye=U(u,nt),q=u,x=gt(q),j=(s=g==null?void 0:g.select)!=null?s:N,J=j.native?"option":ut;let Q;(m===d||m==="td")&&(Q=p||1e3);const Se=ae(j.id),X=ae(j.labelId),we=()=>n===-1?(T+1)*b:b===-1?n:Math.min(n,(T+1)*b);return e.jsx(lt,h({colSpan:Q,ref:c,as:m,ownerState:q,className:M(x.root,r)},ye,{children:e.jsxs(rt,{className:x.toolbar,children:[e.jsx(it,{className:x.spacer}),L.length>1&&e.jsx(ct,{className:x.selectLabel,id:X,children:o}),L.length>1&&e.jsx(dt,h({variant:"standard"},!j.variant&&{input:me||(me=e.jsx(We,{}))},{value:b,onChange:v,id:Se,labelId:X},j,{classes:h({},j.classes,{root:M(x.input,x.selectRoot,(j.classes||{}).root),select:M(x.select,(j.classes||{}).select),icon:M(x.selectIcon,(j.classes||{}).icon)}),disabled:_,children:L.map(I=>R.createElement(J,h({},!Ae(J)&&{ownerState:q},{className:x.menuItem,key:I.label?I.label:I,value:I.value?I.value:I}),I.label?I.label:I))})),e.jsx(pt,{className:x.displayedRows,children:i({from:n===0?0:T*b+1,to:we(),count:n===-1?-1:n,page:T})}),e.jsx(l,{className:x.actions,backIconButtonProps:f,count:n,nextIconButtonProps:w,onPageChange:A,page:T,rowsPerPage:b,showFirstButton:D,showLastButton:z,slotProps:g==null?void 0:g.actions,getItemAriaLabel:C,disabled:_})]})}))}),xt=bt;var O={},Pt=W;Object.defineProperty(O,"__esModule",{value:!0});var H=O.default=void 0,ft=Pt(E()),vt=e,jt=(0,ft.default)((0,vt.jsx)("path",{d:"M18.41 16.59 13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");H=O.default=jt;var V={},It=W;Object.defineProperty(V,"__esModule",{value:!0});var K=V.default=void 0,Rt=It(E()),Ct=e,yt=(0,Rt.default)((0,Ct.jsx)("path",{d:"M5.59 7.41 10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");K=V.default=yt;var G={},St=W;Object.defineProperty(G,"__esModule",{value:!0});var Re=G.default=void 0,wt=St(E()),Tt=e,_t=(0,wt.default)((0,Tt.jsx)("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}),"FileDownloadOutlined");Re=G.default=_t;function Ce(t){const a=Ie(),{count:c,page:s,rowsPerPage:u,onPageChange:l}=t,f=n=>{l(n,0)},r=n=>{l(n,s-1)},p=n=>{l(n,s+1)},m=n=>{l(n,Math.max(0,Math.ceil(c/u)-1))};return e.jsxs(B,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(y,{onClick:f,disabled:s===0,"aria-label":"first page",children:a.direction==="rtl"?e.jsx(K,{}):e.jsx(H,{})}),e.jsx(y,{onClick:r,disabled:s===0,"aria-label":"previous page",children:a.direction==="rtl"?e.jsx(Y,{}):e.jsx(Z,{})}),e.jsx(y,{onClick:p,disabled:s>=Math.ceil(c/u)-1,"aria-label":"next page",children:a.direction==="rtl"?e.jsx(Z,{}):e.jsx(Y,{})}),e.jsx(y,{onClick:m,disabled:s>=Math.ceil(c/u)-1,"aria-label":"last page",children:a.direction==="rtl"?e.jsx(H,{}):e.jsx(K,{})})]})}Ce.propTypes={count:k.number.isRequired,onPageChange:k.func.isRequired,page:k.number.isRequired,rowsPerPage:k.number.isRequired};function Lt({data:t}){var i;const[a,c]=R.useState(0),[s,u]=R.useState("Pending"),[l,f]=R.useState(5),[r,p]=R.useState(t);R.useEffect(()=>{p(s==="Pending"?t==null?void 0:t.filter(o=>o.status==="Overdue"||o.status==="Unpaid"||o.status==="Partly Paid"||o.status==="Unpaid and Discounted"||o.status==="Overdue and Discounted"||o.status==="Partly Paid and Discounted"):s==="Paid"?t==null?void 0:t.filter(o=>o.status==="Paid"||o.status==="Credit Note Issued"):s==="Credit Note"?t==null?void 0:t.filter(o=>o.status==="Return"):t)},[s]);const m=a>0?Math.max(0,(1+a)*l-(r==null?void 0:r.length)):0,n=(o,w)=>{c(w)},_=o=>{f(parseInt(o.target.value,10)),c(0)};let C=["All","Pending","Paid","Credit Note"];return e.jsxs($e,{children:[e.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(B,{children:e.jsx(P,{children:"Invoice List"})}),e.jsx(B,{sx:{mb:2},children:e.jsxs(ke,{sx:{m:1,minWidth:140},children:[e.jsx(Fe,{id:"demo-simple-select-autowidth-label",children:"Status"}),e.jsx(fe,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:s,label:"Status",onChange:o=>u(o.target.value),children:C.map((o,w)=>e.jsx(ve,{value:o,children:o},o+w))})]})})]}),e.jsx(Ne,{variant:"outlined",children:e.jsx(ze,{children:e.jsxs(qe,{"aria-label":"custom sales invoice",sx:{whiteSpace:"nowrap"},children:[e.jsx(He,{children:e.jsxs(F,{children:[e.jsx(d,{children:e.jsx(P,{variant:"h6",children:"Invoice No."})}),e.jsx(d,{children:e.jsx(P,{variant:"h6",children:"Invoice Amount"})}),e.jsx(d,{children:e.jsx(P,{variant:"h6",children:"Due Date"})}),e.jsx(d,{children:e.jsx(P,{variant:"h6",children:"Location"})}),e.jsx(d,{children:e.jsx(P,{variant:"h6",children:"Status"})}),e.jsx(d,{children:e.jsx(P,{variant:"h6",children:"Download"})})]})}),e.jsxs(Ke,{children:[(i=l>0?r==null?void 0:r.slice(a*l,a*l+l):r)==null?void 0:i.map(o=>e.jsxs(F,{children:[e.jsx(d,{children:e.jsx(P,{variant:"h6",children:o.name})}),e.jsx(d,{children:e.jsxs(P,{color:"textSecondary",variant:"h6",fontWeight:"400",children:["â‚¹ ",o.rounded_total]})}),e.jsx(d,{children:e.jsx(P,{variant:"h6",children:o.due_date})}),e.jsx(d,{children:e.jsx(P,{color:"textSecondary",variant:"h6",fontWeight:"400",children:o.location===null?"----":o.location})}),e.jsx(d,{children:e.jsx(Ue,{color:s==="Paid"?"success":s==="Credit Note"?"error":s==="Pending"?"primary":"secondary",sx:{borderRadius:"6px"},size:"small",label:s==="All"?o.status==="Credit Note Issued"?"Paid":o.status==="Return"?"Credit Note":o.status:s})}),e.jsx(d,{children:e.jsx(B,{color:"secondary",marginLeft:"1.5rem",component:Be,target:"_blank",href:`http://${window.location.hostname}/api/method/frappe.utils.print_format.download_pdf?doctype=Sales Invoice&name=${o.name}&format=Business Center&no_letterhead=1&letterhead=No Letterhead &settings={}&_lang=en-US`,children:e.jsx(Re,{})})})]},o.name)),m>0&&e.jsx(F,{style:{height:53*m},children:e.jsx(d,{colSpan:6})})]}),e.jsx(Ze,{children:e.jsx(F,{children:e.jsx(xt,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:r==null?void 0:r.length,rowsPerPage:l,page:a,SelectProps:{inputprops:{"aria-label":"rows per page"},native:!0},onPageChange:n,onRowsPerPageChange:_,ActionsComponent:Ce})})})]})})})]})}const Bt=[{to:"/dashboard",title:"Home"},{title:"Sales Invoice"}],ra=()=>{const t=Te(l=>l.novelprofileReducer.companyName);Oe();const{data:a,error:c,isValidating:s,mutate:u}=_e("Sales Invoice",{fields:["name","status","due_date","rounded_total","location"],filters:[["customer","=",t]],limit_start:0,limit:1e5,orderBy:{field:"creation",order:"desc"}});return e.jsxs(Le,{title:"Sales Invoice - Novel Office",description:"this is Sales Invoice page",children:[e.jsx(Me,{title:"Sales Invoice",items:Bt}),e.jsx(Lt,{data:a})]})};export{ra as default};
