import{a as _,q as v,e as n,r as x,f as C,g as E,h as c,i as h,j as y,I as u}from"./index-70c16ae5.js";import{a as l}from"./js.cookie-bb004444.js";import{u as L}from"./useDispatch-3ad91a4c.js";function z(m){var i;const{Component:d}=m,r=_(),{currentUser:N,isValidating:j,isLoading:G,login:R,logout:V,error:q,updateCurrentUser:$,getUserCookie:g}=v(),a=n(o=>o.novelprofileReducer.fullName),p=n(o=>o.novelprofileReducer.userEmail),t=L();if(l.set(g),x.useEffect(()=>{if(a==="Guest"){r("/dashboard");return}else l.get("user_id")==null&&r("/")},[]),a!=="Guest"){const e=(()=>{const{data:s,error:U,isValidating:k,mutate:A}=u("User",`${p}`);return s||U})(),f=e==null?void 0:e.app_user_type;if(t(C(e==null?void 0:e.customer)),t(E(f)),(e==null?void 0:e.user_image)!==void 0){const s=e==null?void 0:e.user_image;console.log("userImage = ",e==null?void 0:e.user_image),t(c(s))}else t(c(""));const I=(i=(()=>{const{data:s}=u("Customer",`${e==null?void 0:e.customer}`);return s==null?void 0:s.leads})())==null?void 0:i.map(s=>s.leads);t(h(I))}return y.jsx(d,{})}export{z as default};
